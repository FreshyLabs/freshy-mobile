/*
 * Framework7 0.9.5
 * Full Featured HTML Framework For Building iOS 7 Apps
 *
 * http://www.idangero.us/framework7
 *
 * Copyright 2014, Vladimir Kharlampidi
 * The iDangero.us
 * http://www.idangero.us/
 *
 * Licensed under MIT
 *
 * Released on: August 15, 2014
*/
!function(){"use strict";window.Framework7=function(b){function c(a){var b=a.replace(/^./,function(a){return a.toUpperCase()});k["onPage"+b]=function(b,c){return k.onPage(a,b,c)}}function d(a,b,c){b=m(b);var d=b.find(a);return d.length>1&&("string"==typeof c.selector&&(d=b.find(c.selector+" "+a)),d.length>1&&(d=b.find("."+k.params.viewMainClass+" "+a))),1===d.length?d:void 0}function e(a,b,c){"to-left"===c&&(a.removeClass("page-on-center").addClass("page-from-center-to-left"),b.addClass("page-from-right-to-center")),"to-right"===c&&(a.removeClass("page-on-left").addClass("page-from-left-to-center"),b.removeClass("page-on-center").addClass("page-from-center-to-right"))}function f(a,b,c){"to-left"===c&&(b.removeClass("navbar-on-right").addClass("navbar-from-right-to-center"),b.find(".sliding").each(function(){var a=m(this);a.transform("translate3d(0px,0,0)"),k.params.animateNavBackIcon&&a.hasClass("left")&&a.find(".back .icon").length>0&&a.find(".back .icon").transform("translate3d(0px,0,0)")}),a.removeClass("navbar-on-center").addClass("navbar-from-center-to-left"),a.find(".sliding").each(function(){var a=m(this);k.params.animateNavBackIcon&&(a.hasClass("center")&&b.find(".sliding.left .back .icon").length>0&&(this.f7NavbarLeftOffset+=b.find(".sliding.left .back span")[0].offsetLeft),a.hasClass("left")&&a.find(".back .icon").length>0&&a.find(".back .icon").transform("translate3d("+-this.f7NavbarLeftOffset+"px,0,0)")),a.transform("translate3d("+this.f7NavbarLeftOffset+"px,0,0)")})),"to-right"===c&&(a.removeClass("navbar-on-left").addClass("navbar-from-left-to-center"),a.find(".sliding").each(function(){var a=m(this);a.transform("translate3d(0px,0,0)"),k.params.animateNavBackIcon&&a.hasClass("left")&&a.find(".back .icon").length>0&&a.find(".back .icon").transform("translate3d(0px,0,0)")}),b.removeClass("navbar-on-center").addClass("navbar-from-center-to-right"),b.find(".sliding").each(function(){var a=m(this);k.params.animateNavBackIcon&&a.hasClass("left")&&a.find(".back .icon").length>0&&a.find(".back .icon").transform("translate3d("+-this.f7NavbarRightOffset+"px,0,0)"),a.transform("translate3d("+this.f7NavbarRightOffset+"px,0,0)")}))}function g(a,b,c,g){function h(){a.allowPageChange=!0,i.removeClass("page-from-right-to-center page-on-right").addClass("page-on-center"),j.removeClass("page-from-center-to-left page-on-center").addClass("page-on-left"),r&&(p.removeClass("navbar-from-right-to-center navbar-on-right").addClass("navbar-on-center"),o.removeClass("navbar-from-center-to-left navbar-on-center").addClass("navbar-on-left")),k.pageAnimCallbacks("after",a,{pageContainer:i[0],url:b,position:"right",oldPage:j,newPage:i}),k.params.pushState&&k.pushStateClearQueue()}var i,j,l,n,o,p,q,r,s=m(a.container),t=m(a.pagesContainer);if("undefined"==typeof g&&(g=a.params.animatePages),k.pluginHook("loadPage",a,b,c),k._tempDomElement.innerHTML="",b||"string"==typeof c)k._tempDomElement.innerHTML=c;else if("length"in c&&c.length>1)for(var u=0;u<c.length;u++)m(k._tempDomElement).append(c[u]);else m(k._tempDomElement).append(c);if(i=d(".page",k._tempDomElement,a),!i)return void(a.allowPageChange=!0);if(i.addClass("page-on-right"),l=t.children(".page:not(.cached)"),l.length>1){for(n=0;n<l.length-2;n++)a.params.domCache?m(l[n]).addClass("cached"):(k.pageRemoveCallback(a,l[n],"left"),m(l[n]).remove());a.params.domCache?m(l[n]).addClass("cached"):(k.pageRemoveCallback(a,l[n],"left"),m(l[n]).remove())}if(j=t.children(".page:not(.cached)"),a.params.dynamicNavbar&&(r=!0,p=d(".navbar-inner",k._tempDomElement,a),p||(r=!1),q=s.find(".navbar"),o=q.find(".navbar-inner:not(.cached)"),o.length>0)){for(n=0;n<o.length-1;n++)a.params.domCache?m(o[n]).addClass("cached"):m(o[n]).remove();p||1!==o.length||(a.params.domCache?m(o[0]).addClass("cached"):m(o[0]).remove()),o=q.find(".navbar-inner:not(.cached)")}r&&(p.addClass("navbar-on-right"),q.append(p[0])),b||(b="#content-"+a.history.length,a.params.domCache||(1===a.history.length&&(a.contentCache[a.history[0]]={nav:o,page:j}),a.contentCache[b]={nav:p,page:i})),a.url=b,a.history.push(b),t.append(i[0]),k.pageInitCallback(a,i[0],b,"right",r?p[0]:void 0),r&&k.navbarInitCallback(a,i[0],q[0],p[0],b,"right"),r&&g&&p.find(".sliding").each(function(){var a=m(this);a.transform("translate3d("+this.f7NavbarRightOffset+"px,0,0)"),k.params.animateNavBackIcon&&a.hasClass("left")&&a.find(".back .icon").length>0&&a.find(".back .icon").transform("translate3d("+-this.f7NavbarRightOffset+"px,0,0)")});i[0].clientLeft;k.pageAnimCallbacks("before",a,{pageContainer:i[0],url:b,position:"right",oldPage:j,newPage:i}),g?(e(j,i,"to-left",a),r&&setTimeout(function(){f(o,p,"to-left",a)},0),i.animationEnd(function(){h()})):h()}function h(a,b,c){k.pluginHook("preprocess",a,b,c),a=k.pluginProcess("preprocess",a),k.params.preprocess?(a=k.params.preprocess(a,b,c),"undefined"!=typeof a&&c(a)):c(a)}function i(){var a=this,b=a.scrollTop,c=a.scrollHeight,d=a.offsetHeight,e=a.getAttribute("data-distance");e||(e=50),"string"==typeof e&&e.indexOf("%")>=0&&(e=parseInt(e,10)/100*d),e>d&&(e=d),b+d>=c-e&&m(a).trigger("infinite")}function j(){k.device.ipad&&(document.body.scrollLeft=0,setTimeout(function(){document.body.scrollLeft=0},0))}var k=this;k.version="0.9.5",k.params={cache:!0,cacheIgnore:[],cacheIgnoreGetParameters:!1,cacheDuration:6e5,preloadPreviousPage:!0,pushState:!1,pushStateRoot:void 0,pushStateNoAnimation:!1,pushStateSeparator:"#!/",fastClicks:!0,animateNavBackIcon:!1,swipeBackPage:!0,swipeBackPageThreshold:0,swipeBackPageActiveArea:30,swipeBackPageBoxShadow:!0,ajaxLinks:void 0,externalLinks:["external"],sortable:!0,swipeout:!0,swipeoutNoFollow:!1,smartSelectBackTemplate:'<div class="left sliding"><a href="#" class="back link"><i class="icon icon-back"></i><span>{{backText}}</span></a></div>',smartSelectBackText:"Back",smartSelectSearchbar:!1,smartSelectBackOnSelect:!1,searchbarHideDividers:!0,searchbarHideGroups:!0,swipePanel:!1,swipePanelActiveArea:0,swipePanelCloseOpposite:!0,swipePanelNoFollow:!1,swipePanelThreshold:0,panelsCloseByOutside:!0,modalTemplate:'<div class="modal {{noButtons}}"><div class="modal-inner">{{if title}}<div class="modal-title">{{title}}</div>{{/if title}}<div class="modal-text">{{text}}</div>{{afterText}}</div><div class="modal-buttons">{{buttons}}</div></div>',modalActionsTemplate:'<div class="actions-modal">{{buttons}}</div>',modalButtonOk:"OK",modalButtonCancel:"Cancel",modalUsernamePlaceholder:"Username",modalPasswordPlaceholder:"Password",modalTitle:"Framework7",modalCloseByOutside:!1,actionsCloseByOutside:!0,popupCloseByOutside:!0,modalPreloaderTitle:"Loading... ",init:!0,viewClass:"view",viewMainClass:"view-main",viewsClass:"views",notificationCloseOnClick:!1,notificationCloseIcon:!0,animatePages:!0};for(var l in b)k.params[l]=b[l];var m=a;k.touchEvents={start:k.support.touch?"touchstart":"mousedown",move:k.support.touch?"touchmove":"mousemove",end:k.support.touch?"touchend":"mouseup"},k.ls=localStorage,k.rtl="rtl"===m("body").css("direction"),k.rtl&&m("html").attr("dir","rtl"),"undefined"!=typeof k.params.statusbarOverlay&&(k.params.statusbarOverlay?m("html").addClass("with-statusbar-overlay"):m("html").removeClass("with-statusbar-overlay")),k.views=[];var n=function(a,b){var c={dynamicNavbar:!1,domCache:!1,linksView:void 0,swipeBackPage:k.params.swipeBackPage,swipeBackPageBoxShadow:k.params.swipeBackPageBoxShadow,swipeBackPageActiveArea:k.params.swipeBackPageActiveArea,swipeBackPageThreshold:k.params.swipeBackPageThreshold,animatePages:k.params.animatePages};b=b||{};for(var d in c)"undefined"==typeof b[d]&&(b[d]=c[d]);var e=this;e.params=b,e.selector=a;var f=m(a);e.container=f[0];var g=document.location.href;e.history=[];var h=g,i=k.params.pushStateSeparator,j=k.params.pushStateRoot;if(k.params.pushState&&(j?h=j:h.indexOf(i)>=0&&h.indexOf(i+"#")<0&&(h=h.split(i)[0])),e.url=f.attr("data-url")||e.params.url||h,e.url&&e.history.push(e.url),e.contentCache={},f[0].f7View=e,e.pagesContainer=f.find(".pages")[0],e.allowPageChange=!0,!e.activePage){var l,n=m(e.pagesContainer).find(".page-on-center");0===n.length&&(n=m(e.pagesContainer).find(".page"),n=n.eq(n.length-1)),n.length>0&&(l=n[0].f7PageData),l&&(l.view=e,e.url&&(l.url=e.url),e.activePage=l,n[0].f7PageData=l)}e.main=f.hasClass(k.params.viewMainClass);var o,p,q,r,s,t,u,v,w,x,y,z,A,B,C=!1,D=!1,E={},F=!0;if(e.handleTouchStart=function(a){F&&e.params.swipeBackPage&&!C&&!k.swipeoutOpenedEl&&(D=!1,C=!0,o=void 0,E.x="touchstart"===a.type?a.targetTouches[0].pageX:a.pageX,E.y="touchstart"===a.type?a.targetTouches[0].pageY:a.pageY,t=(new Date).getTime(),A=e.params.dynamicNavbar&&f.find(".navbar-inner").length>1)},e.handleTouchMove=function(a){if(C){var b="touchmove"===a.type?a.targetTouches[0].pageX:a.pageX,c="touchmove"===a.type?a.targetTouches[0].pageY:a.pageY;if("undefined"==typeof o&&(o=!!(o||Math.abs(c-E.y)>Math.abs(b-E.x))),o||a.f7PreventSwipeBack)return void(C=!1);if(a.f7PreventPanelSwipe=!0,!D){var d=!1;r=f.width();var g=m(a.target);p=g.is(".page")?g:g.parents(".page"),p.hasClass("no-swipeback")&&(d=!0),q=f.find(".page-on-left:not(.cached)");var h=E.x-f.offset().left>e.params.swipeBackPageActiveArea;if(h=k.rtl?E.x<f.offset().left-f[0].scrollLeft+r-e.params.swipeBackPageActiveArea:E.x-f.offset().left>e.params.swipeBackPageActiveArea,h&&(d=!0),(0===q.length||0===p.length)&&(d=!0),d)return void(C=!1);A&&(u=f.find(".navbar-on-center:not(.cached)"),v=f.find(".navbar-on-left:not(.cached)"),w=u.find(".left, .center, .right"),x=v.find(".left, .center, .right"),k.params.animateNavBackIcon&&(y=u.find(".left.sliding .back .icon"),z=v.find(".left.sliding .back .icon")))}D=!0,a.preventDefault();var i=k.rtl?-1:1;s=(b-E.x-e.params.swipeBackPageThreshold)*i,0>s&&(s=0);var j=s/r,l={percentage:j,activePage:p[0],previousPage:q[0],activeNavbar:u[0],previousNavbar:v[0]};e.params.onSwipeBackMove&&e.params.onSwipeBackMove(l),f.trigger("swipebackmove",l);var n=s*i,t=(s/5-r/5)*i;if(1===k.device.pixelRatio&&(n=Math.round(n),t=Math.round(t)),p.transform("translate3d("+n+"px,0,0)"),e.params.swipeBackPageBoxShadow&&"android"!==k.device.os&&(p[0].style.boxShadow="0px 0px 12px rgba(0,0,0,"+(.5-.5*j)+")"),q.transform("translate3d("+t+"px,0,0)"),q[0].style.opacity=.9+.1*j,A){var F;for(F=0;F<w.length;F++)if(B=m(w[F]),B[0].style.opacity=1-1.3*j,B[0].className.indexOf("sliding")>=0){var G=j*B[0].f7NavbarRightOffset;1===k.device.pixelRatio&&(G=Math.round(G)),B.transform("translate3d("+G+"px,0,0)"),k.params.animateNavBackIcon&&B[0].className.indexOf("left")>=0&&y.length>0&&y.transform("translate3d("+-G+"px,0,0)")}for(F=0;F<x.length;F++)if(B=m(x[F]),B[0].style.opacity=1.3*j-.3,B[0].className.indexOf("sliding")>=0){var H=B[0].f7NavbarLeftOffset*(1-j);1===k.device.pixelRatio&&(H=Math.round(H)),B.transform("translate3d("+H+"px,0,0)"),k.params.animateNavBackIcon&&B[0].className.indexOf("left")>=0&&z.length>0&&z.transform("translate3d("+-H+"px,0,0)")}}}},e.handleTouchEnd=function(){if(!C||!D)return C=!1,void(D=!1);if(C=!1,D=!1,0===s)return m([p[0],q[0]]).transform("").css({opacity:"",boxShadow:""}),void(A&&(w.transform("").css({opacity:""}),x.transform("").css({opacity:""}),y&&y.length>0&&y.transform(""),z&&y.length>0&&z.transform("")));var a=(new Date).getTime()-t,b=!1;if((300>a&&s>10||a>=300&&s>r/2)&&(p.removeClass("page-on-center").addClass("page-on-right"),q.removeClass("page-on-left").addClass("page-on-center"),A&&(u.removeClass("navbar-on-center").addClass("navbar-on-right"),v.removeClass("navbar-on-left").addClass("navbar-on-center")),b=!0),m([p[0],q[0]]).transform("").css({opacity:"",boxShadow:""}).addClass("page-transitioning"),A&&(w.css({opacity:""}).each(function(){var a=b?this.f7NavbarRightOffset:0,c=m(this);c.transform("translate3d("+a+"px,0,0)"),k.params.animateNavBackIcon&&c.hasClass("left")&&y.length>0&&y.addClass("page-transitioning").transform("translate3d("+-a+"px,0,0)")}).addClass("page-transitioning"),x.transform("").css({opacity:""}).each(function(){var a=b?0:this.f7NavbarLeftOffset,c=m(this);c.transform("translate3d("+a+"px,0,0)"),k.params.animateNavBackIcon&&c.hasClass("left")&&z.length>0&&z.addClass("page-transitioning").transform("translate3d("+-a+"px,0,0)")}).addClass("page-transitioning")),F=!1,e.allowPageChange=!1,b){var c=e.history[e.history.length-2];e.url=c,k.pageAnimCallbacks("before",e,{pageContainer:q[0],url:c,position:"left",newPage:q,oldPage:p,swipeBack:!0})}p.transitionEnd(function(){m([p[0],q[0]]).removeClass("page-transitioning"),A&&(w.removeClass("page-transitioning").css({opacity:""}),x.removeClass("page-transitioning").css({opacity:""}),y&&y.length>0&&y.removeClass("page-transitioning"),z&&z.length>0&&z.removeClass("page-transitioning")),F=!0,e.allowPageChange=!0,b&&(k.params.pushState&&history.back(),k.pageAnimCallbacks("after",e,{pageContainer:q[0],url:c,position:"left",newPage:q,oldPage:p,swipeBack:!0}),k.afterGoBack(e,p,q))})},e.attachEvents=function(a){var b=a?"off":"on";f[b](k.touchEvents.start,e.handleTouchStart),f[b](k.touchEvents.move,e.handleTouchMove),f[b](k.touchEvents.end,e.handleTouchEnd)},e.detachEvents=function(){e.attachEvents(!0)},e.params.swipeBackPage&&e.attachEvents(),k.views.push(e),e.main&&(k.mainView=e),e.loadPage=function(a,b){return k.loadPage(e,a,b)},e.loadContent=function(a,b){return k.loadContent(e,a,b)},e.goBack=function(a,b){return k.goBack(e,a,b)},e.hideNavbar=function(){return k.hideNavbar(f)},e.showNavbar=function(){return k.showNavbar(f)},e.hideToolbar=function(){return k.hideToolbar(f)},e.showToolbar=function(){return k.showToolbar(f)},k.params.pushState&&e.main){var G;j?G=g.split(k.params.pushStateRoot+i)[1]:g.indexOf(i)>=0&&g.indexOf(i+"#")<0&&(G=g.split(i)[1]);var H;k.params.pushStateNoAnimation===!0&&(H=!1),G&&k.loadPage(e,G,H,!1)}return e.destroy=function(){e.detachEvents(),e=void 0},k.pluginHook("addView",e),e};k.addView=function(a,b){return new n(a,b)},k.navbarInitCallback=function(a,b,c,d,e,f){var g={container:c,innerContainer:d},h={url:e,query:m.parseUrlQuery(e||""),container:b,name:m(b).attr("data-page"),view:a,from:f},i={navbar:g,page:h};k.pluginHook("navbarInit",g,h),m(d).trigger("navbarInit",i)},k.sizeNavbars=function(a){var b=a?m(a).find(".navbar .navbar-inner:not(.cached)"):m(".navbar .navbar-inner:not(.cached)");b.each(function(){var a,b,c=m(this),d=c.find(k.rtl?".right":".left"),e=c.find(k.rtl?".left":".right"),f=c.find(".center"),g=0===d.length,h=0===e.length,i=g?0:d.outerWidth(!0),j=h?0:e.outerWidth(!0),l=f.outerWidth(!0),n=c.width(),o=c.hasClass("navbar-on-left");h&&(a=n-l),g&&(a=0),g||h||(a=(n-j-l+i)/2);var p=(n-l)/2;n-i-j>l?(i>p&&(p=i),p+l>n-j&&(p=n-j-l),b=p-a):b=0;var q=k.rtl?-1:1,r=b;k.rtl&&g&&h&&f.length>0&&(r=-r),f.css({left:r+"px"}),f.hasClass("sliding")&&(f[0].f7NavbarLeftOffset=-(a+b)*q,f[0].f7NavbarRightOffset=(n-a-b-l)*q,o&&f.transform("translate3d("+f[0].f7NavbarLeftOffset+"px, 0, 0)")),!g&&d.hasClass("sliding")&&(k.rtl?(d[0].f7NavbarLeftOffset=-(n-d.outerWidth())/2*q,d[0].f7NavbarRightOffset=i*q):(d[0].f7NavbarLeftOffset=-i,d[0].f7NavbarRightOffset=(n-d.outerWidth())/2),o&&d.transform("translate3d("+d[0].f7NavbarLeftOffset+"px, 0, 0)")),!h&&e.hasClass("sliding")&&(k.rtl?(e[0].f7NavbarLeftOffset=-j*q,e[0].f7NavbarRightOffset=(n-e.outerWidth())/2*q):(e[0].f7NavbarLeftOffset=-(n-e.outerWidth())/2,e[0].f7NavbarRightOffset=j),o&&e.transform("translate3d("+e[0].f7NavbarLeftOffset+"px, 0, 0)"))})},k.hideNavbar=function(a){return m(a).addClass("hidden-navbar"),!0},k.showNavbar=function(a){var b=m(a);return b.addClass("hiding-navbar").removeClass("hidden-navbar").find(".navbar").transitionEnd(function(){b.removeClass("hiding-navbar")}),!0},k.hideToolbar=function(a){return m(a).addClass("hidden-toolbar"),!0},k.showToolbar=function(a){var b=m(a);b.addClass("hiding-toolbar").removeClass("hidden-toolbar").find(".toolbar").transitionEnd(function(){b.removeClass("hiding-toolbar")})},k.initSearchbar=function(a){function b(){o.val("").trigger("change"),l.removeClass("searchbar-active searchbar-not-empty"),q.length>0&&q.css(w,-v+"px"),r&&n.removeClass("searchbar-overlay-active"),k.device.ios?setTimeout(function(){o.blur()},400):o.blur()}function c(){k.device.ios?setTimeout(function(){r&&!l.hasClass("searchbar-active")&&n.addClass("searchbar-overlay-active"),l.addClass("searchbar-active"),q.length>0&&q.css(w,"0px"),r.trigger("enableSearch")},400):(r&&!l.hasClass("searchbar-active")&&n.addClass("searchbar-overlay-active"),l.addClass("searchbar-active"),q.length>0&&q.css(w,"0px"),r.trigger("disableSearch"))}function d(){o.val("").trigger("change"),r.trigger("clearSearch")}function e(){setTimeout(function(){var a=o.val().trim();0===a.length?(l.removeClass("searchbar-not-empty"),r&&l.hasClass("searchbar-active")&&n.addClass("searchbar-overlay-active")):(l.addClass("searchbar-not-empty"),r&&l.hasClass("searchbar-active")&&n.removeClass("searchbar-overlay-active")),r.length>0&&s&&i(a)},0)}function f(a){a.preventDefault()}function g(a){var g=a?"off":"on";l[g]("submit",f),q[g]("click",b),n[g]("click",b),o[g]("focus",c),o[g]("change keydown keypress keyup",e),p[g]("click",d)}function h(){g(!0)}function i(a){var b=a.trim().toLowerCase().split(" ");r.find("li").removeClass("hidden-by-searchbar");var c=[];r.find("li").each(function(a,d){d=m(d);var e=d.find(s);if(0!==e.length){var f;f=e.text().trim().toLowerCase();for(var g=0,h=0;h<b.length;h++)f.indexOf(b[h])>=0&&g++;g!==b.length?d.addClass("hidden-by-searchbar"):c.push(d[0])}}),k.params.searchbarHideDividers&&r.find(".item-divider, .list-group-title").each(function(){for(var a=m(this),b=a.nextAll("li"),c=!0,d=0;d<b.length;d++){var e=m(b[d]);if(e.hasClass("list-group-title")||e.hasClass("item-divider"))break;e.hasClass("hidden-by-searchbar")||(c=!1)}c?a.addClass("hidden-by-searchbar"):a.removeClass("hidden-by-searchbar")}),k.params.searchbarHideGroups&&r.find(".list-group").each(function(){var a=m(this),b=a.find("li:not(.hidden-by-searchbar)");0===b.length?a.addClass("hidden-by-searchbar"):a.removeClass("hidden-by-searchbar")}),r.trigger("search",{query:a,foundItems:c}),0===c.length?(u.show(),t.hide()):(u.hide(),t.show())}function j(){h(),a.off("pageBeforeRemove",j)}a=m(a);var l=a.hasClass("searchbar")?a:a.find(".searchbar");if(0!==l.length){a.hasClass("page")||(a=l.parents(".page").eq(0));var n=a.hasClass("page")?a.find(".searchbar-overlay"):m(".searchbar-overlay"),o=l.find('input[type="search"]'),p=l.find(".searchbar-clear"),q=l.find(".searchbar-cancel"),r=m(l.attr("data-search-list")),s=l.attr("data-search-in"),t=(l.attr("data-search-by"),l.attr("data-searchbar-found"));t?t=m(t):(t=a.find(".searchbar-found"),0===t.length&&(t=m(".searchbar-found")));var u=l.attr("data-searchbar-not-found");u?u=m(u):(u=a.find(".searchbar-not-found"),0===u.length&&(u=m(".searchbar-not-found")));var v,w=k.rtl?"margin-left":"margin-right";q.length>0&&(v=q.width(),q.css(w,-v+"px")),l[0].f7DestroySearchbar=h,g(),a.hasClass("page")&&a.on("pageBeforeRemove",j)}},k.destroySearchbar=function(a){a=m(a);var b=a.hasClass("searchbar")?a:a.find(".searchbar");0!==b.length&&b[0].f7DestroySearchbar&&b[0].f7DestroySearchbar()},k.initMessagebar=function(a){function b(a){a.preventDefault()}function c(){j.css({height:""});var a=j[0].offsetHeight,b=a-j[0].clientHeight,c=j[0].scrollHeight;if(c+b>a){var d=c+b,e=l+(d-n),f=h.attr("data-max-height")||h.parents(".view")[0].offsetHeight-88;e>f&&(e=f,d=e-l+n),j.css("height",d+"px"),h.css("height",e+"px"),k.length>0&&(k.css("padding-bottom",e+"px"),k.scrollTop(k[0].scrollHeight-k[0].offsetHeight))}else k.length>0&&(h.css({height:""}),k.css({"padding-bottom":""}))}function d(){clearTimeout(i),i=setTimeout(function(){c()},0)}function e(a){var c=a?"off":"on";h[c]("submit",b),j[c]("change keydown keypress keyup paste cut",d)}function f(){e(!0)}function g(){f(),a.off("pageBeforeRemove",g)}a=m(a);var h=a.hasClass("messagebar")?a:a.find(".messagebar");if(0!==h.length){var i,j=h.find("textarea"),k=h.parents(".page").find(".page-content"),l=h[0].offsetHeight,n=j[0].offsetHeight;h[0].f7DestroyMessagebar=f,e(),a.hasClass("page")&&a.on("pageBeforeRemove",g)}},k.destroyMessagebar=function(a){a=m(a);var b=a.hasClass("messagebar")?a:a.find(".messagebar");0!==b.length&&b[0].f7DestroyMessagebar&&b[0].f7DestroyMessagebar()},k.cache=[],k.removeFromCache=function(a){for(var b=!1,c=0;c<k.cache.length;c++)k.cache[c].url===a&&(b=c);b!==!1&&k.cache.splice(b,1)},k.xhr=!1,k.get=function(a,b,c){var d=a;if(k.params.cacheIgnoreGetParameters&&a.indexOf("?")>=0&&(d=a.split("?")[0]),k.params.cache&&a.indexOf("nocache")<0&&k.params.cacheIgnore.indexOf(d)<0)for(var e=0;e<k.cache.length;e++)if(k.cache[e].url===d&&(new Date).getTime()-k.cache[e].time<k.params.cacheDuration)return c(k.cache[e].data),!1;return k.xhr=m.ajax({url:a,method:"GET",start:k.params.onAjaxStart,complete:function(a){200===a.status||0===a.status?(c(a.responseText,!1),k.params.cache&&(k.removeFromCache(d),k.cache.push({url:d,time:(new Date).getTime(),data:a.responseText}))):c(a.responseText,!0),k.params.onAjaxComplete&&k.params.onAjaxComplete(a)},error:function(a){c(a.responseText,!0),k.params.onAjaxError&&k.params.onAjaxonAjaxError(a)}}),b&&(b.xhr=k.xhr),k.xhr},k.pageCallbacks={},k.onPage=function(a,b,c){if(b&&b.split(" ").length>1){for(var d=b.split(" "),e=[],f=0;f<d.length;f++)e.push(k.onPage(a,d[f],c));return e.remove=function(){for(var a=0;a<e.length;a++)e[a].remove()},e.trigger=function(){for(var a=0;a<e.length;a++)e[a].trigger()},e}var g=k.pageCallbacks[a][b];return g||(g=k.pageCallbacks[a][b]=[]),k.pageCallbacks[a][b].push(c),{remove:function(){for(var a,b=0;b<g.length;b++)g[b].toString()===c.toString()&&(a=b);"undefined"!=typeof a&&g.splice(a,1)},trigger:c}};for(var o="beforeInit init beforeAnimation afterAnimation beforeRemove".split(" "),p=0;p<o.length;p++)k.pageCallbacks[o[p]]={},c(o[p]);k.triggerPageCallbacks=function(a,b,c){var d=k.pageCallbacks[a]["*"];if(d)for(var e=0;e<d.length;e++)d[e](c);var f=k.pageCallbacks[a][b];if(f&&0!==f.length)for(var g=0;g<f.length;g++)f[g](c)},k.pageInitCallback=function(a,b,c,d,e){if(!b.f7PageInitialized){b.f7PageInitialized=!0;var f={container:b,url:c,query:m.parseUrlQuery(c||""),name:m(b).attr("data-page"),view:a,from:d,navbarInnerContainer:e};b.f7PageData=f,a&&(a.activePage=f),k.pluginHook("pageBeforeInit",f),k.params.onPageBeforeInit&&k.params.onPageBeforeInit(k,f),k.triggerPageCallbacks("beforeInit",f.name,f),m(f.container).trigger("pageBeforeInit",{page:f}),k.initPage(b),k.pluginHook("pageInit",f),k.params.onPageInit&&k.params.onPageInit(k,f),k.triggerPageCallbacks("init",f.name,f),m(f.container).trigger("pageInit",{page:f})}},k.pageRemoveCallback=function(a,b,c){var d={container:b,name:m(b).attr("data-page"),view:a,from:c};k.pluginHook("pageBeforeRemove",d),k.params.onPageBeforeRemove&&k.params.onPageBeforeRemove(k,d),k.triggerPageCallbacks("beforeRemove",d.name,d),m(d.container).trigger("pageBeforeRemove",{page:d})},k.pageAnimCallbacks=function(a,b,c){var d={container:c.pageContainer,url:c.url,query:m.parseUrlQuery(c.url||""),name:m(c.pageContainer).attr("data-page"),view:b,from:c.position,swipeBack:c.swipeBack},e=c.oldPage,f=c.newPage;c.pageContainer.f7PageData=d,"after"===a&&(k.pluginHook("pageAfterAnimation",d),k.params.onPageAfterAnimation&&k.params.onPageAfterAnimation(k,d),k.triggerPageCallbacks("afterAnimation",d.name,d),m(d.container).trigger("pageAfterAnimation",{page:d})),"before"===a&&(m(b.container).attr("data-page",d.name),b&&(b.activePage=d),f.hasClass("no-navbar")&&!e.hasClass("no-navbar")&&b.hideNavbar(),!f.hasClass("no-navbar")&&e.hasClass("no-navbar")&&b.showNavbar(),f.hasClass("no-toolbar")&&!e.hasClass("no-toolbar")&&b.hideToolbar(),!f.hasClass("no-toolbar")&&e.hasClass("no-toolbar")&&b.showToolbar(),k.pluginHook("pageBeforeAnimation",d),k.params.onPageBeforeAnimation&&k.params.onPageBeforeAnimation(k,d),k.triggerPageCallbacks("beforeAnimation",d.name,d),m(d.container).trigger("pageBeforeAnimation",{page:d}))},k.initPage=function(a){k.sizeNavbars&&k.sizeNavbars(m(a).parents("."+k.params.viewClass)[0]),k.initMessages&&k.initMessages(a),k.initFormsStorage&&k.initFormsStorage(a),k.initSmartSelects&&k.initSmartSelects(a),k.initSlider&&k.initSlider(a),k.initPullToRefresh&&k.initPullToRefresh(a),k.initInfiniteScroll&&k.initInfiniteScroll(a),k.initSearchbar&&k.initSearchbar(a),k.initMessagebar&&k.initMessagebar(a)},k.allowPageChange=!0,k._tempDomElement=document.createElement("div"),k.loadContent=function(a,b,c,d){if(!a.allowPageChange)return!1;if(a.allowPageChange=!1,k.xhr&&a.xhr&&a.xhr===k.xhr&&(k.xhr.abort(),k.xhr=!1),k.params.pushState){"undefined"==typeof d&&(d=!0);var e=k.params.pushStateRoot||"";d&&history.pushState({content:b,url:"#content-"+a.history.length},"",e+k.params.pushStateSeparator+"#content-"+a.history.length)}h(b,null,function(b){g(a,null,b,c)})},k.loadPage=function(a,b,c,d){return a.allowPageChange?a.url===b?!1:(a.allowPageChange=!1,k.xhr&&a.xhr&&a.xhr===k.xhr&&(k.xhr.abort(),k.xhr=!1),void k.get(b,a,function(e,f){if(f)return void(a.allowPageChange=!0);if(k.params.pushState){"undefined"==typeof d&&(d=!0);var i=k.params.pushStateRoot||"";d&&history.pushState({url:b},"",i+k.params.pushStateSeparator+b)}h(e,b,function(d){g(a,b,d,c)})})):!1},k.goBack=function(a,b,c,g,i){function j(){function d(){k.afterGoBack(a,n[0],o[0]),k.pageAnimCallbacks("after",a,{pageContainer:o[0],url:b,position:"left",oldPage:n,newPage:o})}k.pageAnimCallbacks("before",a,{pageContainer:o[0],url:b,position:"left",oldPage:n,newPage:o}),c?(e(o,n,"to-right",a),s&&setTimeout(function(){f(q,p,"to-right",a)},0),o.animationEnd(function(){d()})):(q.find(".sliding, .sliding .back .icon").transform(""),d())}function l(){if(o=d(".page",k._tempDomElement,a),!o)return void(a.allowPageChange=!0);if(o.addClass("page-on-left"),n=m(v[0]),a.params.dynamicNavbar&&(s=!0,q=d(".navbar-inner",k._tempDomElement,a),q||(s=!1)),s&&(r=t.find(".navbar"),p=r.find(".navbar-inner"),q.addClass(p.length>0?"navbar-on-left":"navbar-on-center"),p.length>1&&(m(p[0]).remove(),p=r.find(".navbar-inner")),r.prepend(q[0])),u.prepend(o[0]),k.pageInitCallback(a,o[0],b,"left",s?q[0]:void 0),s&&k.navbarInitCallback(a,o[0],r[0],q[0],b,"right"),s&&q.hasClass("navbar-on-left")&&c&&q.find(".sliding").each(function(){var a=m(this);k.params.animateNavBackIcon&&(a.hasClass("left")&&a.find(".back .icon").length>0&&a.find(".back .icon").transform("translate3d("+-this.f7NavbarLeftOffset+"px,0,0)"),a.hasClass("center")&&p.find(".left .back .icon").length>0&&(this.f7NavbarLeftOffset+=p.find(".left .back span")[0].offsetLeft)),a.transform("translate3d("+this.f7NavbarLeftOffset+"px,0,0)")}),g)return o.addClass("page-on-left"),void(a.allowPageChange=!0);a.url=b;o[0].clientLeft;j()}if(!a.allowPageChange)return!1;a.allowPageChange=!1,k.xhr&&a.xhr&&a.xhr===k.xhr&&(k.xhr.abort(),k.xhr=!1),k.pluginHook("goBack",a,b,g),k.params.pushState&&("undefined"==typeof i&&(i=!0),!g&&history.state&&i&&history.back());var n,o,p,q,r,s,t=m(a.container),u=m(a.pagesContainer),v=u.children(".page");if("undefined"==typeof c&&(c=a.params.animatePages),v.length>1){if(g)return void(a.allowPageChange=!0);if(a.url=a.history[a.history.length-2],o=m(v[v.length-2]),n=m(v[v.length-1]),a.params.dynamicNavbar){s=!0;var w=t.find(".navbar-inner:not(.cached)");q=m(w[0]),p=m(w[1])}j()}else{if(b&&0===b.indexOf("#")&&(b=void 0),a.history.length>1&&(b=a.history[a.history.length-2]),!b)return void(a.allowPageChange=!0);if(!a.params.domCache&&b in a.contentCache){var x=a.contentCache[b];return k._tempDomElement.innerHTML="",m(k._tempDomElement).append(x.nav[0]).append(x.page[0]),void l()}k.get(b,a,function(b,c){return c?void(a.allowPageChange=!0):void h(b,null,function(a){k._tempDomElement.innerHTML=a,l()})})}},k.afterGoBack=function(a,b,c){if(b=m(b),c=m(c),k.pageRemoveCallback(a,b[0],"right"),b.remove(),c.removeClass("page-from-left-to-center page-on-left").addClass("page-on-center"),a.allowPageChange=!0,a.params.dynamicNavbar){{var d=m(a.container).find(".navbar-inner:not(.cached)");m(d[1]).remove(),m(d[0]).removeClass("navbar-on-left navbar-from-left-to-center").addClass("navbar-on-center")}if(k.params.preloadPreviousPage&&a.params.domCache){var e=m(a.container).find(".navbar-inner.cached");m(e[e.length-1]).removeClass("cached")}}var f=a.history.pop();if(!a.params.domCache&&f&&f.indexOf("#content-")>-1&&f in a.contentCache&&(a.contentCache[f]=null,delete a.contentCache[f]),k.params.pushState&&k.pushStateClearQueue(),k.params.preloadPreviousPage){if(a.params.domCache){var g=m(a.container).find(".page.cached");m(g[g.length-1]).removeClass("cached")}k.goBack(a,!1,void 0,!0)}};var q=document.createElement("div");k.modal=function(a){a=a||{};var b="";if(a.buttons&&a.buttons.length>0)for(var c=0;c<a.buttons.length;c++)b+='<span class="modal-button'+(a.buttons[c].bold?" modal-button-bold":"")+'">'+a.buttons[c].text+"</span>";var d=k.params.modalTemplate;d=a.title?d.replace(/{{if\ title}}/g,"").replace(/{{\/if\ title}}/g,""):d.split("{{if title}}")[0]+d.split("{{/if title}}")[1];var e=d.replace(/{{title}}/g,a.title||"").replace(/{{text}}/g,a.text||"").replace(/{{afterText}}/g,a.afterText||"").replace(/{{buttons}}/g,b).replace(/{{noButtons}}/g,a.buttons&&0!==a.buttons.length?"":"modal-no-buttons");q.innerHTML=e;var f=m(q).children();return m("body").append(f[0]),f.find(".modal-button").each(function(b,c){m(c).on("click",function(c){a.buttons[b].close!==!1&&k.closeModal(f),a.buttons[b].onClick&&a.buttons[b].onClick(f,c),a.onClick&&a.onClick(f,b)})}),k.openModal(f),f[0]},k.alert=function(a,b,c){return"function"==typeof b&&(c=arguments[1],b=void 0),k.modal({text:a||"",title:"undefined"==typeof b?k.params.modalTitle:b,buttons:[{text:k.params.modalButtonOk,bold:!0,onClick:c}]})},k.confirm=function(a,b,c,d){return"function"==typeof b&&(d=arguments[2],c=arguments[1],b=void 0),k.modal({text:a||"",title:"undefined"==typeof b?k.params.modalTitle:b,buttons:[{text:k.params.modalButtonCancel,onClick:d},{text:k.params.modalButtonOk,bold:!0,onClick:c}]})},k.prompt=function(a,b,c,d){return"function"==typeof b&&(d=arguments[2],c=arguments[1],b=void 0),k.modal({text:a||"",title:"undefined"==typeof b?k.params.modalTitle:b,afterText:'<input type="text" class="modal-text-input">',buttons:[{text:k.params.modalButtonCancel},{text:k.params.modalButtonOk,bold:!0}],onClick:function(a,b){0===b&&d&&d(m(a).find(".modal-text-input").val()),1===b&&c&&c(m(a).find(".modal-text-input").val())}})},k.modalLogin=function(a,b,c,d){return"function"==typeof b&&(d=arguments[2],c=arguments[1],b=void 0),k.modal({text:a||"",title:"undefined"==typeof b?k.params.modalTitle:b,afterText:'<input type="text" name="modal-username" placeholder="'+k.params.modalUsernamePlaceholder+'" class="modal-text-input modal-text-input-double"><input type="password" name="modal-password" placeholder="'+k.params.modalPasswordPlaceholder+'" class="modal-text-input modal-text-input-double">',buttons:[{text:k.params.modalButtonCancel},{text:k.params.modalButtonOk,bold:!0}],onClick:function(a,b){var e=m(a).find('.modal-text-input[name="modal-username"]').val(),f=m(a).find('.modal-text-input[name="modal-password"]').val();0===b&&d&&d(e,f),1===b&&c&&c(e,f)}})},k.modalPassword=function(a,b,c,d){return"function"==typeof b&&(d=arguments[2],c=arguments[1],b=void 0),k.modal({text:a||"",title:"undefined"==typeof b?k.params.modalTitle:b,afterText:'<input type="password" name="modal-password" placeholder="'+k.params.modalPasswordPlaceholder+'" class="modal-text-input">',buttons:[{text:k.params.modalButtonCancel},{text:k.params.modalButtonOk,bold:!0}],onClick:function(a,b){var e=m(a).find('.modal-text-input[name="modal-password"]').val();0===b&&d&&d(e),1===b&&c&&c(e)}})},k.showPreloader=function(a){return k.modal({title:a||k.params.modalPreloaderTitle,text:'<div class="preloader"></div>'})},k.hidePreloader=function(){k.closeModal(".modal.modal-in")},k.showIndicator=function(){m("body").append('<div class="preloader-indicator-overlay"></div><div class="preloader-indicator-modal"><span class="preloader preloader-white"></span></div>')},k.hideIndicator=function(){m(".preloader-indicator-overlay, .preloader-indicator-modal").remove()
},k.actions=function(a){a=a||[],a.length>0&&!m.isArray(a[0])&&(a=[a]);for(var b=k.params.modalActionsTemplate,c="",d=0;d<a.length;d++)for(var e=0;e<a[d].length;e++){0===e&&(c+='<div class="actions-modal-group">');var f=a[d][e],g=f.label?"actions-modal-label":"actions-modal-button";f.bold&&(g+=" actions-modal-button-bold"),f.color&&(g+=" color-"+f.color),c+='<span class="'+g+'">'+f.text+"</span>",e===a[d].length-1&&(c+="</div>")}var h=b.replace(/{{buttons}}/g,c);q.innerHTML=h;var i=m(q).children();m("body").append(i[0]);var j=i.find(".actions-modal-group");return j.each(function(b,c){var d=b;m(c).children().each(function(b,c){var e=b,f=a[d][e];m(c).hasClass("actions-modal-button")&&m(c).on("click",function(a){f.close!==!1&&k.closeModal(i),f.onClick&&f.onClick(i,a)})})}),k.openModal(i),i[0]},k.popover=function(a,b,c){function d(){a.css({left:"",top:""});var c=a.width(),d=a.height(),e=a.find(".popover-angle"),f=e.width()/2;e.removeClass("on-left on-right on-top on-bottom").css({left:"",top:""});var g=b.outerWidth(),h=b.outerHeight(),i=b.offset(),j=b.parents(".page");j.length>0&&(i.top=i.top-j[0].scrollTop);var k=m(window).height(),l=m(window).width(),n=0,o=0,p=0,q="top";d+f<i.top?n=i.top-d-f:d+f<k-i.top-h?(q="bottom",n=i.top+h+f):(q="middle",n=h/2+i.top-d/2,p=n,0>n?n=5:n+d>k&&(n=k-d-5),p-=n),"top"===q||"bottom"===q?(o=g/2+i.left-c/2,p=o,5>o&&(o=5),o+c>l&&(o=l-c-5),"top"===q&&e.addClass("on-bottom"),"bottom"===q&&e.addClass("on-top"),p-=o,e.css({left:c/2-f+p+"px"})):"middle"===q&&(o=i.left-c-f,e.addClass("on-right"),5>o&&(o=i.left+g+f,e.removeClass("on-right").addClass("on-left")),o+c>l&&(o=l-c-5,e.removeClass("on-right").addClass("on-left")),e.css({top:d/2-f+p+"px"})),a.css({top:n+"px",left:o+"px"})}if("undefined"==typeof c&&(c=!0),"string"==typeof a&&a.indexOf("<")>=0){var e=document.createElement("div");if(e.innerHTML=m.trim(a),!(e.childNodes.length>0))return!1;a=e.childNodes[0],c&&a.classList.add("remove-on-close"),m("body").append(a)}return a=m(a),b=m(b),0===a.length||0===b.length?!1:(0===a.find(".popover-angle").length&&a.append('<div class="popover-angle"></div>'),a.show(),d(),m(window).on("resize",d),a.on("close",function(){m(window).off("resize",d)}),a.find("."+k.params.viewClass).length>0&&k.sizeNavbars(a.find("."+k.params.viewClass)[0]),k.openModal(a),a[0])},k.popup=function(a,b){if("undefined"==typeof b&&(b=!0),"string"==typeof a&&a.indexOf("<")>=0){var c=document.createElement("div");if(c.innerHTML=m.trim(a),!(c.childNodes.length>0))return!1;a=c.childNodes[0],b&&a.classList.add("remove-on-close"),m("body").append(a)}return a=m(a),0===a.length?!1:(a.show(),a.find("."+k.params.viewClass).length>0&&k.sizeNavbars(a.find("."+k.params.viewClass)[0]),k.openModal(a),a[0])},k.loginScreen=function(a){return a||(a=".login-screen"),a=m(a),0===a.length?!1:(a.show(),a.find("."+k.params.viewClass).length>0&&k.sizeNavbars(a.find("."+k.params.viewClass)[0]),k.openModal(a),a[0])},k.openModal=function(a){a=m(a);var b=a.hasClass("popover"),c=a.hasClass("popup"),d=a.hasClass("login-screen");b||c||d||a.css({marginTop:-Math.round(a.outerHeight()/2)+"px"});var e;d||(0!==m(".modal-overlay").length||c||m("body").append('<div class="modal-overlay"></div>'),0===m(".popup-overlay").length&&c&&m("body").append('<div class="popup-overlay"></div>'),e=m(c?".popup-overlay":".modal-overlay"));a[0].clientLeft;return a.trigger("open"),d||e.addClass("modal-overlay-visible"),a.removeClass("modal-out").addClass("modal-in").transitionEnd(function(){a.trigger(a.hasClass("modal-out")?"closed":"opened")}),!0},k.closeModal=function(a){if(a=m(a||".modal-in"),"undefined"==typeof a||0!==a.length){var b=a.hasClass("popover"),c=a.hasClass("popup"),d=a.hasClass("login-screen"),e=a.hasClass("remove-on-close"),f=m(c?".popup-overlay":".modal-overlay");return f.removeClass("modal-overlay-visible"),a.trigger("close"),b?(a.removeClass("modal-in modal-out").trigger("closed").hide(),e&&a.remove()):a.removeClass("modal-in").addClass("modal-out").transitionEnd(function(){a.trigger(a.hasClass("modal-out")?"closed":"opened"),c||d?(a.removeClass("modal-out").hide(),e&&a.length>0&&a.remove()):a.remove()}),!0}},k.allowPanelOpen=!0,k.openPanel=function(a){function b(){e.transitionEnd(function(a){m(a.target).is(e)?(c.trigger(c.hasClass("active")?"opened":"closed"),k.allowPanelOpen=!0):b()})}if(!k.allowPanelOpen)return!1;var c=m(".panel-"+a);if(0===c.length||c.hasClass("active"))return!1;k.closePanel(),k.allowPanelOpen=!1;var d=c.hasClass("panel-reveal")?"reveal":"cover";c.css({display:"block"}).addClass("active"),c.trigger("open"),c.find("."+k.params.viewClass).length>0&&k.sizeNavbars&&k.sizeNavbars(c.find("."+k.params.viewClass)[0]);var e=(c[0].clientLeft,"reveal"===d?m("."+k.params.viewsClass):c);return b(),m("body").addClass("with-panel-"+a+"-"+d),!0},k.closePanel=function(){var a=m(".panel.active");if(0===a.length)return!1;var b=a.hasClass("panel-reveal")?"reveal":"cover",c=a.hasClass("panel-left")?"left":"right";a.removeClass("active");var d="reveal"===b?m("."+k.params.viewsClass):a;a.trigger("close"),k.allowPanelOpen=!1,d.transitionEnd(function(){a.hasClass("active")||(a.css({display:""}),a.trigger("closed"),m("body").removeClass("panel-closing"),k.allowPanelOpen=!0)}),m("body").addClass("panel-closing").removeClass("with-panel-"+c+"-"+b)},k.initSwipePanels=function(){function a(a){if(k.allowPanelOpen&&k.params.swipePanel&&!e&&!(m(".modal-in, .photo-browser-in").length>0||!k.params.swipePanelCloseOpposite&&m(".panel.active").length>0&&!d.hasClass("active"))){if(s.x="touchstart"===a.type?a.targetTouches[0].pageX:a.pageX,s.y="touchstart"===a.type?a.targetTouches[0].pageY:a.pageY,k.params.swipePanelCloseOpposite&&(q=m(".panel.active").length>0?m(".panel.active").hasClass("panel-left")?"left":"right":k.params.swipePanel),d=m(".panel.panel-"+q),k.params.swipePanelActiveArea){if("left"===q&&s.x>k.params.swipePanelActiveArea)return;if("right"===q&&s.x<window.innerWidth-k.params.swipePanelActiveArea)return}f=!1,e=!0,g=void 0,h=(new Date).getTime(),p=void 0}}function b(a){if(e&&!a.f7PreventPanelSwipe){var b="touchmove"===a.type?a.targetTouches[0].pageX:a.pageX,c="touchmove"===a.type?a.targetTouches[0].pageY:a.pageY;if("undefined"==typeof g&&(g=!!(g||Math.abs(c-s.y)>Math.abs(b-s.x))),g)return void(e=!1);if(!p&&(p=b>s.x?"to-right":"to-left","left"===q&&"to-left"===p&&!d.hasClass("active")||"right"===q&&"to-right"===p&&!d.hasClass("active")))return void(e=!1);if(k.params.swipePanelNoFollow){var m=(new Date).getTime()-h;return 300>m&&("to-left"===p&&("right"===q&&k.openPanel(q),"left"===q&&d.hasClass("active")&&k.closePanel()),"to-right"===p&&("left"===q&&k.openPanel(q),"right"===q&&d.hasClass("active")&&k.closePanel())),e=!1,void(f=!1)}f||(o=d.hasClass("panel-cover")?"cover":"reveal",d.show(),r.show(),l=d.hasClass("active"),n=d.width(),d.transition(0),d.find("."+k.params.viewClass).length>0&&k.sizeNavbars&&k.sizeNavbars(d.find("."+k.params.viewClass)[0])),f=!0,a.preventDefault();var u=l?0:-k.params.swipePanelThreshold;"right"===q&&(u=-u),i=b-s.x+u,"right"===q?(j=i-(l?n:0),j>0&&(j=0),-n>j&&(j=-n)):(j=i+(l?n:0),0>j&&(j=0),j>n&&(j=n)),"reveal"===o?(t.transform("translate3d("+j+"px,0,0)").transition(0),r.transform("translate3d("+j+"px,0,0)"),k.pluginHook("swipePanelSetTransform",t[0],d[0],Math.abs(j/n))):(d.transform("translate3d("+j+"px,0,0)").transition(0),k.pluginHook("swipePanelSetTransform",t[0],d[0],Math.abs(j/n)))}}function c(){if(!e||!f)return e=!1,void(f=!1);e=!1,f=!1;var a,b=(new Date).getTime()-h,c=0===j||Math.abs(j)===n;if(a=l?j===-n?"reset":300>b&&Math.abs(j)>=0||b>=300&&Math.abs(j)<=n/2?"left"===q&&j===n?"reset":"swap":"reset":0===j?"reset":300>b&&Math.abs(j)>0||b>=300&&Math.abs(j)>=n/2?"swap":"reset","swap"===a&&(k.allowPanelOpen=!0,l?(k.closePanel(),c&&(d.css({display:""}),m("body").removeClass("panel-closing"))):k.openPanel(q),c&&(k.allowPanelOpen=!0)),"reset"===a)if(l)k.allowPanelOpen=!0,k.openPanel(q);else if(k.closePanel(),c)k.allowPanelOpen=!0,d.css({display:""});else{var g="reveal"===o?t:d;m("body").addClass("panel-closing"),g.transitionEnd(function(){k.allowPanelOpen=!0,d.css({display:""}),m("body").removeClass("panel-closing")})}"reveal"===o&&(t.transition(""),t.transform("")),d.transition("").transform(""),r.css({display:""}).transform("")}var d=m(".panel.panel-"+k.params.swipePanel);if(0!==d.length){var e,f,g,h,i,j,l,n,o,p,q,r=m(".panel-overlay"),s={},t=m("."+k.params.viewsClass);q=k.params.swipePanel,m(document).on(k.touchEvents.start,a),m(document).on(k.touchEvents.move,b),m(document).on(k.touchEvents.end,c)}},k.initMessages=function(a){var b=m(a),c=b.find(".messages");if(0!==c.length){var d=b.find(".page-content");c.hasClass("new-messages-first")||(d[0].scrollTop=c.height()-d.height()),k.updateMessagesAngles(c)}},k.addMessage=function(a){if(a=a||{},a.type=a.type||"sent",!a.text||0===a.length)return!1;var b=m(".messages-content");if(0===b.length)return!1;var c=b.find(".messages"),d=c.hasClass("new-messages-first"),e="";a.day&&(e+='<div class="messages-date">'+a.day+(a.time?",":"")+(a.time?" <span>"+a.time+"</span>":"")+"</div>");var f=a.text.indexOf("<img")>=0?"message-pic":"",g=a.avatar?"message-with-avatar":"",h="message message-"+a.type+f+" "+g+" message-appear";e+='<div class="'+h+'">'+(a.name?'<div class="message-name">'+a.name+"</div>":"")+'<div class="message-text">'+a.text+"</div>"+(a.avatar?'<div class="message-avatar" style="background-image:url('+a.avatar+')"></div>':"")+"</div>",d?c.prepend(e):c.append(e),k.updateMessagesAngles(c),k.scrollMessagesContainer(b)},k.updateMessagesAngles=function(a){a.find(".message").each(function(){var a=m(this);a.find(".message-text img").length>0&&a.addClass("message-pic"),a.find(".message-avatar").length>0&&a.addClass("message-with-avatar")}),a.find(".message-sent").each(function(){var a=m(this),b=a.next(".message-sent"),c=a.prev(".message-sent");0===b.length?a.addClass("message-last"):a.removeClass("message-last"),0===c.length?a.addClass("message-first"):a.removeClass("message-first"),c.length>0&&c.find(".message-name").length>0&&a.find(".message-name").length>0&&c.find(".message-name").text()!==a.find(".message-name").text()&&(c.addClass("message-last"),a.addClass("message-first"))}),a.find(".message-received").each(function(){var a=m(this),b=a.next(".message-received"),c=a.prev(".message-received");0===b.length?a.addClass("message-last"):a.removeClass("message-last"),0===c.length?a.addClass("message-first"):a.removeClass("message-first"),c.length>0&&c.find(".message-name").length>0&&a.find(".message-name").length>0&&c.find(".message-name").text()!==a.find(".message-name").text()&&(c.addClass("message-last"),a.addClass("message-first"))})},k.scrollMessagesContainer=function(a){if(a=m(a||".messages-content"),0!==a.length){var b=a.find(".messages"),c=b.hasClass("new-messages-first"),d=a[0].scrollTop,e=c?0:b.height()-a.height();e!==d&&a.scrollTop(e,300)}},k.swipeoutOpenedEl=void 0,k.allowSwipeout=!0,k.initSwipeout=function(a){function b(a){k.allowSwipeout&&(f=!1,e=!0,g=void 0,r.x="touchstart"===a.type?a.targetTouches[0].pageX:a.pageX,r.y="touchstart"===a.type?a.targetTouches[0].pageY:a.pageY,h=(new Date).getTime())}function c(a){if(e){var b="touchmove"===a.type?a.targetTouches[0].pageX:a.pageX,c="touchmove"===a.type?a.targetTouches[0].pageY:a.pageY;if("undefined"==typeof g&&(g=!!(g||Math.abs(c-r.y)>Math.abs(b-r.x))),g)return void(e=!1);if(!f){if(m(".list-block.sortable-opened").length>0)return;j=m(this),l=j.find(".swipeout-content"),n=j.find(".swipeout-actions-inner"),o=n.width(),q=j.hasClass("swipeout-opened"),j.removeClass("transitioning")}if(f=!0,a.preventDefault(),k.rtl&&(a.f7PreventSwipeBack=!0),i=b-r.x,p=i-(q?o:0),p>0){if(!q)return void(e=f=!1);p=0}if(-o>p&&(p=-o-Math.pow(-p-o,.8)),a.f7PreventPanelSwipe=!0,k.params.swipeoutNoFollow){if(0>i&&!q)return k.swipeoutOpen(j),e=!1,void(f=!1);if(i>0&&q)return k.swipeoutClose(j),e=!1,void(f=!1)}else j.trigger("swipeout",{progress:Math.abs(p/o)}),l.transform("translate3d("+p+"px,0,0)")}}function d(){if(!e||!f)return e=!1,void(f=!1);e=!1,f=!1;var a=(new Date).getTime()-h;0!==p&&p!==-o&&(k.allowSwipeout=!1);var b;if(b=q?300>a&&p>-(o-10)||a>=300&&p>-o/2?"close":"open":300>a&&-10>p||a>=300&&-o/2>p?"open":"close","open"===b){k.swipeoutOpenedEl=j,j.trigger("open"),j.addClass("swipeout-opened transitioning");var c=-o;l.transform("translate3d("+c+"px,0,0)")}else j.trigger("close"),k.swipeoutOpenedEl=void 0,j.addClass("transitioning").removeClass("swipeout-opened"),l.transform("translate3d(0px,0,0)");-o>=p?(q||j.trigger("opened"),k.allowSwipeout=!0):p>=0?(q&&j.trigger("closed"),k.allowSwipeout=!0):l.transitionEnd(function(){k.allowSwipeout=!0,j.trigger("open"===b?"opened":"closed")})}var e,f,g,h,i,j,l,n,o,p,q,r={};m(document).on(k.touchEvents.start,function(a){if(k.swipeoutOpenedEl){var b=m(a.target);k.swipeoutOpenedEl.is(b[0])||b.parents(".swipeout").is(k.swipeoutOpenedEl)||b.hasClass("modal-in")||b.parents(".modal-in").length>0||b.hasClass("modal-overlay")||k.swipeoutClose(k.swipeoutOpenedEl)}}),a?(m(a).on(k.touchEvents.start,b),m(a).on(k.touchEvents.move,c),m(a).on(k.touchEvents.end,d)):(m(document).on(k.touchEvents.start,".list-block li.swipeout",b),m(document).on(k.touchEvents.move,".list-block li.swipeout",c),m(document).on(k.touchEvents.end,".list-block li.swipeout",d))},k.swipeoutOpen=function(a){if(a=m(a),a.hasClass("swipeout")&&0!==a.length){a.length>1&&(a=m(a[0])),a.trigger("open").addClass("transitioning swipeout-opened");var b=a.find(".swipeout-actions-inner"),c=-b.width();a.find(".swipeout-content").transform("translate3d("+c+"px,0,0)").transitionEnd(function(){a.trigger("opened")}),k.swipeoutOpenedEl=a}},k.swipeoutClose=function(a){a=m(a),0!==a.length&&(k.allowSwipeout=!1,a.trigger("close"),a.removeClass("swipeout-opened").addClass("transitioning").find(".swipeout-content").transform("translate3d(0px,0,0)").transitionEnd(function(){a.trigger("closed"),k.allowSwipeout=!0}),k.swipeoutOpenedEl&&k.swipeoutOpenedEl[0]===a[0]&&(k.swipeoutOpenedEl=void 0))},k.swipeoutDelete=function(a){if(a=m(a),0!==a.length){a.length>1&&(a=m(a[0])),k.swipeoutOpenedEl=void 0,a.trigger("delete"),a.css({height:a.outerHeight()+"px"});{a[0].clientLeft}a.css({height:"0px"}).addClass("deleting transitioning").transitionEnd(function(){a.trigger("deleted"),a.remove()});var b="-100%";a.find(".swipeout-content").transform("translate3d("+b+",0,0)")}},k.sortableToggle=function(a){return a=m(a),0===a.length&&(a=m(".list-block.sortable")),a.toggleClass("sortable-opened"),a.trigger(a.hasClass("sortable-opened")?"open":"close"),a},k.sortableOpen=function(a){return a=m(a),0===a.length&&(a=m(".list-block.sortable")),a.addClass("sortable-opened"),a.trigger("open"),a},k.sortableClose=function(a){return a=m(a),0===a.length&&(a=m(".list-block.sortable")),a.removeClass("sortable-opened"),a.trigger("close"),a},k.initSortable=function(){function a(a){e=!1,d=!0,f="touchstart"===a.type?a.targetTouches[0].pageY:a.pageY,h=m(this).parent(),i=h.parent().find("li"),p=h.parents(".sortable"),a.preventDefault(),k.allowsPanelOpen=k.allowSwipeout=!1}function b(a){if(d&&h){var b=("touchmove"===a.type?a.targetTouches[0].pageX:a.pageX,"touchmove"===a.type?a.targetTouches[0].pageY:a.pageY);e||(h.addClass("sorting"),p.addClass("sortable-sorting"),j=h[0].offsetTop,l=h.parent().height()-h[0].offsetTop-h.height()),e=!0,a.preventDefault(),a.f7PreventPanelSwipe=!0,g=b-f;var c=g;-j>c&&(c=-j),c>l&&(c=l),h.transform("translate3d(0,"+c+"px,0)"),o=n=void 0,i.each(function(){var a=m(this);if(a[0]!==h[0]){var b=a[0].offsetTop,d=a.height(),e=h[0].offsetTop+c;e>=b-d/2&&h.index()<a.index()?(a.transform("translate3d(0,-100%,0)"),n=a,o=void 0):b+d/2>=e&&h.index()>a.index()?(m(this).transform("translate3d(0,100%,0)"),n=void 0,o||(o=a)):m(this).transform("translate3d(0, 0%,0)")}})}}function c(a){return k.allowsPanelOpen=k.allowSwipeout=!0,d&&e?(a.preventDefault(),i.transform(""),h.removeClass("sorting"),p.removeClass("sortable-sorting"),n&&(h.insertAfter(n),h.trigger("sort")),o&&(h.insertBefore(o),h.trigger("sort")),n=o=void 0,d=!1,void(e=!1)):(d=!1,void(e=!1))}var d,e,f,g,h,i,j,l,n,o,p;m(document).on(k.touchEvents.start,".list-block.sortable .sortable-handler",a),k.support.touch?(m(document).on(k.touchEvents.move,".list-block.sortable .sortable-handler",b),m(document).on(k.touchEvents.end,".list-block.sortable .sortable-handler",c)):(m(document).on(k.touchEvents.move,b),m(document).on(k.touchEvents.end,c))},k.initSmartSelects=function(a){var b=m(a);if(0!==b.length){var c=b.find(".smart-select");0!==c.length&&c.each(function(){var a=m(this),b=a.find("select");if(0!==b.length){var c=b[0];if(0!==c.length){for(var d=[],e=0;e<c.length;e++)c[e].selected&&d.push(c[e].textContent.trim());var f=a.find(".item-after");0===f.length?a.find(".item-inner").append('<div class="item-after">'+d.join(", ")+"</div>"):f.text(d)}}})}},k.smartSelectOpen=function(a){function b(f){var g=f.detail.page;g.name===z&&(m(document).off("pageInit",b),m(g.container).find('input[name="'+q+'"]').on("change",function(){var b=this,f=b.value,g=[];if("checkbox"===b.type)for(var h=0;h<d.options.length;h++){var i=d.options[h];i.value===f&&(i.selected=b.checked),i.selected&&g.push(i.textContent.trim())}else g=[a.find('option[value="'+f+'"]').text()],d.value=f;e.trigger("change"),a.find(".item-after").text(g.join(", ")),n&&"radio"===p&&c.goBack()}))}if(a=m(a),0!==a.length){var c=a.parents("."+k.params.viewClass);if(0!==c.length&&(c=c[0].f7View)){var d=a.find("select")[0],e=m(d);if(!(d.disabled||a.hasClass("disabled")||e.hasClass("disabled"))){var f={};f.length=d.length;for(var g,h=0;h<d.length;h++)g=m(d[h]),f[h]={value:d[h].value,text:d[h].textContent.trim(),selected:d[h].selected,group:g.parent("optgroup")[0],image:g.attr("data-option-image")||e.attr("data-option-image"),icon:g.attr("data-option-icon")||e.attr("data-option-icon"),disabled:d[h].disabled};for(var i,j=a.attr("data-page-title")||a.find(".item-title").text(),l=a.attr("data-back-text")||k.params.smartSelectBackText,n=a.attr("data-back-onselect")?"true"===a.attr("data-back-onselect")?!0:!1:k.params.smartSelectBackOnSelect,o=(new Date).getTime(),p=d.multiple?"checkbox":"radio",q=p+"-"+o,r="",s=0;s<f.length;s++)if(!f[s].disabled){var t=f[s].selected?"checked":"";f[s].group&&f[s].group!==i&&(r+='<li class="item-divider">'+f[s].group.label+"</li>",i=f[s].group);var u="";"checkbox"===p&&(u+='<i class="icon icon-form-checkbox"></i>'),f[s].icon&&(u+='<i class="icon '+f[s].icon+'"></i>'),f[s].image&&(u+='<img src="'+f[s].image+'">'),r+='<li><label class="label-'+p+' item-content"><input type="'+p+'" name="'+q+'" value="'+f[s].value+'" '+t+">"+(""!==u?'<div class="item-media">'+u+"</div>":"")+'<div class="item-inner"><div class="item-title">'+f[s].text+"</div></div></label></li>"}var v='<div class="navbar">  <div class="navbar-inner">'+k.params.smartSelectBackTemplate.replace(/{{backText}}/g,l)+'    <div class="center sliding">'+j+"</div>  </div></div>",w="static";a.parents(".navbar-through").length>0&&(w="through"),a.parents(".navbar-fixed").length>0&&(w="fixed");var x,y,z="smart-select-"+q,A=a.parents(".page").hasClass("no-toolbar")?"no-toolbar":"",B=a.parents(".page").hasClass("no-navbar")?"no-navbar":"navbar-"+w,C="undefined"==typeof a.data("searchbar")?k.params.smartSelectSearchbar:"true"===a.data("searchbar")?!0:!1;C&&(x=a.data("searchbar-placeholder")||"Search",y=a.data("searchbar-cancel")||"Cancel");var D='<form class="searchbar" data-search-list=".smart-select-list-'+o+'" data-search-in=".item-title"><div class="searchbar-input"><input type="search" placeholder="'+x+'"><a href="#" class="searchbar-clear"></a></div><a href="#" class="searchbar-cancel">'+y+'</a></form><div class="searchbar-overlay"></div>',E=("through"===w?v:"")+'<div class="pages">  <div data-page="'+z+'" class="page smart-select-page '+B+" "+A+'">'+("fixed"===w?v:"")+(C?D:"")+'    <div class="page-content">'+("static"===w?v:"")+'      <div class="list-block smart-select-list-'+o+'">        <ul>'+r+"        </ul>      </div>    </div>  </div></div>";m(document).on("pageInit",b),c.loadContent(E)}}}},k.initPullToRefresh=function(a){function b(a){if(g){if("android"!==k.device.os)return;if("targetTouches"in a&&a.targetTouches.length>1)return}h=!1,g=!0,i=void 0,q.x="touchstart"===a.type?a.targetTouches[0].pageX:a.pageX,q.y="touchstart"===a.type?a.targetTouches[0].pageY:a.pageY,l=(new Date).getTime()}function c(a){if(g){var b="touchmove"===a.type?a.targetTouches[0].pageX:a.pageX,c="touchmove"===a.type?a.targetTouches[0].pageY:a.pageY;if("undefined"==typeof i&&(i=!!(i||Math.abs(c-q.y)>Math.abs(b-q.x))),!i)return void(g=!1);if(p=n[0].scrollTop,!h){if(n.removeClass("transitioning"),p>n[0].offsetHeight)return void(g=!1);t=n.hasClass("refreshing")?44:0,s=n[0].scrollHeight===n[0].offsetHeight||"ios"!==k.device.os?!0:!1}return h=!0,j=c-q.y,j>0&&0>=p||0>p?(s&&(a.preventDefault(),o=Math.pow(j,.85)+t,n.transform("translate3d(0,"+o+"px,0)")),void(s&&Math.pow(j,.85)>44||!s&&j>=88?(r=!0,n.addClass("pull-up")):(r=!1,n.removeClass("pull-up")))):(n.removeClass("pull-up"),void(r=!1))}}function d(){return g&&h?(o&&(n.addClass("transitioning"),o=0),n.transform(""),r&&(n.addClass("refreshing"),n.trigger("refresh",{done:function(){k.pullToRefreshDone(n)}})),g=!1,void(h=!1)):(g=!1,void(h=!1))}function e(){f.off(k.touchEvents.start,b),f.off(k.touchEvents.move,c),f.off(k.touchEvents.end,d),u.off("pageBeforeRemove",e)}var f=m(a);if(f.hasClass("pull-to-refresh-content")||(f=f.find(".pull-to-refresh-content")),0!==f.length){var g,h,i,j,l,n,o,p,q={},r=!1,s=!1,t=0;n=f,f.on(k.touchEvents.start,b),f.on(k.touchEvents.move,c),f.on(k.touchEvents.end,d);var u=f.hasClass("page")?f:f.parents(".page");0!==u.length&&u.on("pageBeforeRemove",e)}},k.pullToRefreshDone=function(a){a=m(a),0===a.length&&(a=m(".pull-to-refresh-content.refreshing")),a.removeClass("refreshing").addClass("transitioning"),a.transitionEnd(function(){a.removeClass("transitioning pull-up")})},k.pullToRefreshTrigger=function(a){a=m(a),0===a.length&&(a=m(".pull-to-refresh-content")),a.hasClass("refreshing")||(a.addClass("transitioning refreshing"),a.trigger("refresh",{done:function(){k.pullToRefreshDone(a)}}))},k.attachInfiniteScroll=function(a){m(a).on("scroll",i)},k.detachInfiniteScroll=function(a){m(a).off("scroll",i)},k.initInfiniteScroll=function(a){function b(){k.detachInfiniteScroll(c),a.off("pageBeforeRemove",b)}a=m(a);var c=a.find(".infinite-scroll");k.attachInfiniteScroll(c),a.on("pageBeforeRemove",b)},k.showTab=function(a,b){var c=m(a);if(c.hasClass("active"))return!1;if(0===c.length)return!1;var d=c.parent(".tabs");if(0===d.length)return!1;k.allowSwipeout=!0;var e=d.parent().hasClass("tabs-animated-wrap");e&&d.transform("translate3d("+100*-c.index()+"%,0,0)");var f=d.children(".tab.active").removeClass("active");if(c.addClass("active"),c.trigger("show"),!e&&c.find(".navbar").length>0){var g;g=c.hasClass(k.params.viewClass)?c[0]:c.parents("."+k.params.viewClass)[0],k.sizeNavbars(g)}if(b?b=m(b):(b=m("string"==typeof a?'.tab-link[href="'+a+'"]':'.tab-link[href="#'+c.attr("id")+'"]'),0===b.length&&m("[data-tab]").each(function(){c.is(m(this).attr("data-tab"))&&(b=m(this))})),0!==b.length){var h;if(f&&f.length>0){var i=f.attr("id");i&&(h=m('.tab-link[href="#'+i+'"]')),0===h.length&&m("[data-tab]").each(function(){f.is(m(this).attr("data-tab"))&&(h=m(this))})}return b&&b.length>0&&b.addClass("active"),h&&h.length>0&&h.removeClass("active"),!0}},k.accordionToggle=function(a){a=m(a),0!==a.length&&(a.hasClass("accordion-item-expanded")?k.accordionClose(a):k.accordionOpen(a))},k.accordionOpen=function(a){a=m(a);var b=a.parents(".accordion-list"),c=a.find(".accordion-item-content"),d=b.find(".accordion-item-expanded");d.length>0&&k.accordionClose(d),c.css("height",c[0].scrollHeight+"px").transitionEnd(function(){if(a.hasClass("accordion-item-expanded")){c.transition(0),c.css("height","auto");{c[0].clientLeft}c.transition("")}else c.css("height","")}),a.addClass("accordion-item-expanded")},k.accordionClose=function(a){a=m(a);var b=a.find(".accordion-item-content");a.removeClass("accordion-item-expanded"),b.transition(0),b.css("height",b[0].scrollHeight+"px");b[0].clientLeft;b.transition(""),b.css("height","").transitionEnd(function(){if(a.hasClass("accordion-item-expanded")){b.transition(0),b.css("height","auto");{b[0].clientLeft}b.transition("")}else b.css("height","")})},k.initFastClicks=function(){function a(a){var b="button checkbox file image radio submit input textarea".split(" ");return document.activeElement&&a!==document.activeElement&&document.activeElement!==document.body?b.indexOf(a.nodeName.toLowerCase())>=0?!1:!0:!1}function b(a){if(document.activeElement===a)return!1;var b=a.nodeName.toLowerCase(),c="button checkbox file image radio submit".split(" ");return a.disabled||a.readOnly?!1:"textarea"===b?!0:"select"===b?"android"===k.device.os?!1:!0:"input"===b&&c.indexOf(a.type)<0?!0:void 0}function c(a){if(a=m(a),a.is("label")||a.parents("label").length>0){if("android"===k.device.os){var b=k.device.osVersion.split(".");return 1*b[0]>4||1*b[0]===4&&1*b[1]>=4?!1:!0}return!1}return!0}function d(b){if(s=!1,b.targetTouches.length>1)return!0;if("ios"===k.device.os){var c=window.getSelection();if(c.rangeCount&&(!c.isCollapsed||document.activeElement===c.focusNode))return p=!0,!0;p=!1}"android"===k.device.os&&a(b.target)&&document.activeElement.blur(),o=!0,n=b.target,l=(new Date).getTime(),i=b.targetTouches[0].pageX,j=b.targetTouches[0].pageY,"ios"===k.device.os&&(q=void 0,m(n).parents().each(function(){var a=this;a.scrollHeight>a.offsetHeight&&!q&&(q=a,q.f7ScrollTop=q.scrollTop)})),b.timeStamp-r<200&&b.preventDefault()}function e(){o&&(o=!1,n=null,s=!0)}function f(a){if(!o)return p||a.preventDefault(),!0;if(document.activeElement===a.target)return!0;if(p||a.preventDefault(),a.timeStamp-r<200)return!0;if(r=a.timeStamp,l=0,o=!1,"ios"===k.device.os&&q&&q.scrollTop!==q.f7ScrollTop)return!1;b(n)&&n.focus(),a.preventDefault();var c=a.changedTouches[0],d=document.createEvent("MouseEvents"),e="click";return"android"===k.device.os&&"select"===n.nodeName.toLowerCase()&&(e="mousedown"),d.initMouseEvent(e,!0,!0,window,1,c.screenX,c.screenY,c.clientX,c.clientY,!1,!1,!1,!1,0,null),d.forwardedTouchEvent=!0,n.dispatchEvent(d),!1}function g(){o=!1,n=null}function h(a){var b=!1;return o?(n=null,o=!1,!0):"submit"===a.target.type&&0===a.detail?!0:(n||(b=!0),document.activeElement===n&&(b=!0),a.forwardedTouchEvent&&(b=!0),a.cancelable||(b=!0),b||(a.stopImmediatePropagation(),a.stopPropagation(),n?(c(n)||s)&&a.preventDefault():a.preventDefault(),n=null),b)}if(k.support.touch){var i,j,l,n,o,p,q,r,s;document.addEventListener("click",h,!0),m(document).on("touchstart",d),m(document).on("touchmove",e),m(document).on("touchend",f),m(document).on("touchcancel",g)}},k.initClickEvents=function(){function a(a){var b=m(this),c=b.attr("href"),d="a"===b[0].nodeName.toLowerCase();if(d)for(var e=0;e<k.params.externalLinks.length;e++){if(b.hasClass(k.params.externalLinks[e]))return;if(b[0].rel===k.params.externalLinks[e])return}if(b.hasClass("smart-select")&&k.smartSelectOpen&&k.smartSelectOpen(b),b.hasClass("open-panel")&&k.openPanel(1===m(".panel").length?m(".panel").hasClass("panel-left")?"left":"right":"right"===b.attr("data-panel")?"right":"left"),b.hasClass("close-panel")&&k.closePanel(),b.hasClass("panel-overlay")&&k.params.panelsCloseByOutside&&k.closePanel(),b.hasClass("open-popover")){var f;f=b.attr("data-popover")?b.attr("data-popover"):".popover",k.popover(f,b)}b.hasClass("close-popover")&&k.closeModal(".popover.modal-in");var g;b.hasClass("open-popup")&&(g=b.attr("data-popup")?b.attr("data-popup"):".popup",k.popup(g)),b.hasClass("close-popup")&&(g=b.attr("data-popup")?b.attr("data-popup"):".popup.modal-in",k.closeModal(g));var h;if(b.hasClass("open-login-screen")&&(h=b.attr("data-login-screen")?b.attr("data-login-screen"):".login-screen",k.loginScreen(h)),b.hasClass("close-login-screen")&&k.closeModal(".login-screen.modal-in"),b.hasClass("modal-overlay")&&(m(".modal.modal-in").length>0&&k.params.modalCloseByOutside&&k.closeModal(".modal.modal-in"),m(".actions-modal.modal-in").length>0&&k.params.actionsCloseByOutside&&k.closeModal(".actions-modal.modal-in"),m(".popover.modal-in").length>0&&k.closeModal(".popover.modal-in")),b.hasClass("popup-overlay")&&m(".popup.modal-in").length>0&&k.params.popupCloseByOutside&&k.closeModal(".popup.modal-in"),b.hasClass("tab-link")&&k.showTab(b.attr("data-tab")||b.attr("href"),b),b.hasClass("swipeout-delete"))if(b.attr("data-confirm")){var i=b.attr("data-confirm"),j=b.attr("data-confirm-title");j?k.confirm(i,j,function(){k.swipeoutDelete(b.parents(".swipeout"))}):k.confirm(i,function(){k.swipeoutDelete(b.parents(".swipeout"))})}else k.swipeoutDelete(b.parents(".swipeout"));if(b.hasClass("toggle-sortable")&&k.sortableToggle(b.data("sortable")),b.hasClass("open-sortable")&&k.sortableOpen(b.data("sortable")),b.hasClass("close-sortable")&&k.sortableClose(b.data("sortable")),b.hasClass("accordion-item-toggle")||b.hasClass("item-link")&&b.parent().hasClass("accordion-item")){var l=b.parents(".accordion-item");0===l.length&&(l=b.parents("li")),k.accordionToggle(l)}if((!k.params.ajaxLinks||b.is(k.params.ajaxLinks))&&d){d&&a.preventDefault();var n=c&&c.length>0&&0!==c.indexOf("#");if(n||b.hasClass("back")){var o;if(b.attr("data-view")?o=m(b.attr("data-view"))[0].f7View:(o=b.parents("."+k.params.viewClass)[0]&&b.parents("."+k.params.viewClass)[0].f7View,o&&o.params.linksView&&(o=m(o.params.linksView)[0].f7View)),!o)for(var e=0;e<k.views.length;e++)k.views[e].main&&(o=k.views[e]);if(!o)return;var p;b.hasClass("no-animation")&&(p=!1),b.hasClass("with-animation")&&(p=!0),b.hasClass("back")?o.goBack(b.attr("href"),p):o.loadPage(b.attr("href"),p)}}}m(document).on("click","a, .open-panel, .close-panel, .panel-overlay, .modal-overlay, .popup-overlay, .swipeout-delete, .close-popup, .open-popup, .open-popover, .open-login-screen, .close-login-screen .smart-select, .toggle-sortable, .open-sortable, .close-sortable, .accordion-item-toggle",a)},k.initResize=function(){m(window).on("resize",k.resize),m(window).on("orientationchange",k.orientationchange)},k.resize=function(){k.sizeNavbars&&k.sizeNavbars(),j()},k.orientationchange=function(){k.device&&k.device.minimalUi&&(90===window.orientation||-90===window.orientation)&&(document.body.scrollTop=0),j()},k.formsData={},k.formStoreData=function(a,b){k.formsData[a]=b,k.ls["f7form-"+a]=JSON.stringify(b)},k.formDeleteData=function(a){k.formsData[a]&&(k.formsData[a]="",delete k.formsData[a]),k.ls["f7form-"+a]&&(k.ls["f7form-"+a]="",delete k.ls["f7form-"+a])},k.formGetData=function(a){return k.ls["f7form-"+a]?JSON.parse(k.ls["f7form-"+a]):k.formsData[a]?k.formsData[a]:void 0},k.formToJSON=function(a){if(a=m(a),1!==a.length)return!1;var b={},c=["submit","image","button","file"],d=[];return a.find("input, select, textarea").each(function(){var e=m(this),f=e.attr("name"),g=e.attr("type"),h=this.nodeName.toLowerCase();if(!(c.indexOf(g)>=0||d.indexOf(f)>=0||!f))if("select"===h&&e.attr("multiple"))d.push(f),b[f]=[],a.find('select[name="'+f+'"] option').each(function(){this.selected&&b[f].push(this.value)});else switch(g){case"checkbox":d.push(f),b[f]=[],a.find('input[name="'+f+'"]').each(function(){this.checked&&b[f].push(this.value)});break;case"radio":d.push(f),a.find('input[name="'+f+'"]').each(function(){this.checked&&(b[f]=this.value)});break;default:b[f]=e.val()}}),b},k.formFromJSON=function(a,b){if(a=m(a),1!==a.length)return!1;var c=["submit","image","button","file"],d=[];a.find("input, select, textarea").each(function(){var e=m(this),f=e.attr("name"),g=e.attr("type"),h=this.nodeName.toLowerCase();if(b[f]&&!(c.indexOf(g)>=0||d.indexOf(f)>=0||!f))if("select"===h&&e.attr("multiple"))d.push(f),a.find('select[name="'+f+'"] option').each(function(){this.selected=b[f].indexOf(this.value)>=0?!0:!1});else switch(g){case"checkbox":d.push(f),a.find('input[name="'+f+'"]').each(function(){this.checked=b[f].indexOf(this.value)>=0?!0:!1});break;case"radio":d.push(f),a.find('input[name="'+f+'"]').each(function(){this.checked=b[f]===this.value?!0:!1
});break;default:e.val(b[f])}})},k.initFormsStorage=function(a){function b(){var a=m(this),b=a[0].id;if(b){var c=k.formToJSON(a);c&&(k.formStoreData(b,c),a.trigger("store",{data:c}))}}function c(){d.off("change submit",b),a.off("pageBeforeRemove",c)}if(a=m(a),0!==a.length){var d=a.find("form.store-data");0!==d.length&&(d.each(function(){var a=this.getAttribute("id");if(a){var b=k.formGetData(a);b&&k.formFromJSON(this,b)}}),d.on("change submit",b),a.on("pageBeforeRemove",c))}},m(document).on("submit change","form.ajax-submit, form.ajax-submit-onchange",function(a){var b=m(this);if("change"!==a.type||b.hasClass("ajax-submit-onchange")){"submit"===a.type&&a.preventDefault();var c=b.attr("method")||"GET",d=b.attr("enctype"),e=b.attr("action");if(e){var f;f="POST"===c?new FormData(b[0]):m.serializeObject(k.formToJSON(b[0]));var g=m.ajax({method:c,url:e,contentType:d,data:f,success:function(a){b.trigger("submitted",{data:a,xhr:g})}})}}}),k.pushStateQueue=[],k.pushStateClearQueue=function(){if(0!==k.pushStateQueue.length){var a,b=k.pushStateQueue.pop();k.params.pushStateNoAnimation===!0&&(a=!1),"goBack"===b.action&&k.goBack(b.view,void 0,a,!1,!1),"loadPage"===b.action&&k.loadPage(b.view,b.stateUrl,a,!1),"loadContent"===b.action&&k.loadContent(b.view,b.stateContent,a,!1)}},k.initPushState=function(){function a(a){if(!b){for(var c,d=0;d<k.views.length;d++)k.views[d].main&&(c=k.views[d]);if(c){var e=a.state;e||(e={url:c.history[0]});var f,g=e&&e.url||void 0,h=e&&e.content||void 0;k.params.pushStateNoAnimation===!0&&(f=!1),g!==c.url&&(c.history.indexOf(g)>=0?c.allowPageChange?k.goBack(c,void 0,f,!1,!1):k.pushStateQueue.push({action:"goBack",view:c}):g&&!h?c.allowPageChange?k.loadPage(c,g,f,!1):k.pushStateQueue.unshift({action:"loadPage",stateUrl:g,view:c}):h&&(c.allowPageChange?k.loadContent(c,h,f,!1):k.pushStateQueue.unshift({action:"loadContent",stateContent:h,view:c})))}}}var b=!0;m(window).on("load",function(){setTimeout(function(){b=!1},0)}),m(window).on("popstate",a)};var r=function(a,b){var c={initialSlide:0,spaceBetween:0,speed:300,slidesPerView:1,direction:"horizontal",paginationHide:!0,slideClass:"slider-slide",slideActiveClass:"slider-slide-active",slideNextClass:"slider-slide-next",slidePrevClass:"slider-slide-prev",wrapperClass:"slider-wrapper",bulletClass:"slider-pagination-bullet",bulletActiveClass:"slider-pagination-active",preventClicks:!0,preventClicksPropagation:!0,autoplay:!1,autoplayDisableOnInteraction:!0};b=b||{};for(var d in c)"undefined"==typeof b[d]&&(b[d]=c[d]);var e=this;if(e.params=b,e.container=m(a),0!==e.container.length){e.container[0].f7Slider=e,e.container.addClass("vertical"===e.params.direction?"slider-container-vertical":"slider-container-horizontal"),e.wrapper=e.container.children("."+e.params.wrapperClass),e.params.pagination&&(e.paginationContainer=m(e.params.pagination)),e.activeSlideIndex=e.previousSlideIndex=e.params.initialSlide||0;var f="horizontal"===e.params.direction,g=f&&k.rtl?-1:1;e.updateSlides=function(){if(e.slides=e.wrapper.children("."+e.params.slideClass),0!==e.params.spaceBetween){var a=k.rtl?"margin-left":"margin-right";f?e.slides.css(a,e.params.spaceBetween+"px"):e.slides.css({marginBottom:e.params.spaceBetween+"px"})}if(e.params.slidesPerView>1){var c="(100% - "+(e.params.slidesPerView-1)*b.spaceBetween+"px)/"+e.params.slidesPerView;f?(e.slides.css("width","-webkit-calc("+c+")"),e.slides.css("width","-moz-calc("+c+")"),e.slides.css("width","calc("+c+")")):(e.slides.css("height","-webkit-calc("+c+")"),e.slides.css("height","-moz-calc("+c+")"),e.slides.css("height","calc("+c+")"))}},e.updatePagination=function(){if(e.paginationContainer&&e.paginationContainer.length>0){for(var a="",b=0;b<e.slides.length-e.params.slidesPerView+1;b++)a+='<span class="'+e.params.bulletClass+'"></span>';e.paginationContainer.html(a),e.bullets=e.paginationContainer.find("."+e.params.bulletClass)}},e.updateSize=function(){e.width=e.container[0].offsetWidth,e.height=e.container[0].offsetHeight,e.size=f?e.width:e.height},e.attachEvents=function(a){var b=a?"off":"on";e.container[b](k.touchEvents.start,e.onTouchStart),e.container[b](k.touchEvents.move,e.onTouchMove),e.container[b](k.touchEvents.end,e.onTouchEnd),m(window)[b]("resize",e.onResize),e.params.nextButton&&m(e.params.nextButton)[b]("click",e.onClickNext),e.params.prevButton&&m(e.params.prevButton)[b]("click",e.onClickPrev),e.params.indexButton&&m(e.params.indexButton)[b]("click",e.onClickIndex),e.params.preventClicks&&e.container[b]("click",e.onClick)},e.detachEvents=function(){e.attachEvents(!0)},e.onResize=function(){e.updateSize(),e.slideTo(e.activeSlideIndex,0,!1)};var h,i,j,l,n,o,p={},q={},r=!1,s=Date.now();e.allowClick=!0,e.onClick=function(a){e.params.preventClicks&&!e.allowClick&&(a.preventDefault(),e.params.preventClicksPropagation&&(a.stopPropagation(),a.stopImmediatePropagation()))},e.onTouchStart=function(a){h=!0,i=!1,l=void 0,p.x=q.x="touchstart"===a.type?a.targetTouches[0].pageX:a.pageX,p.y=q.y="touchstart"===a.type?a.targetTouches[0].pageY:a.pageY,j=Date.now(),e.allowClick=!0,e.updateSize(),e.params.onTouchStart&&e.params.onTouchStart(e,a),"mousedown"===a.type&&a.preventDefault()},e.onTouchMove=function(a){if(e.params.onTouchMove&&e.params.onTouchMove(e,a),e.allowClick=!1,!(a.targetTouches&&a.targetTouches.length>1)&&(q.x="touchmove"===a.type?a.targetTouches[0].pageX:a.pageX,q.y="touchmove"===a.type?a.targetTouches[0].pageY:a.pageY,"undefined"==typeof l&&(l=!!(l||Math.abs(q.y-p.y)>Math.abs(q.x-p.x))),(f&&l||!f&&!l)&&e.params.onOppositeTouchMove&&e.params.onOppositeTouchMove(e,a),h)){if(f&&l||!f&&!l)return void(h=!1);e.params.onSliderMove&&e.params.onSliderMove(e,a),a.preventDefault(),a.stopPropagation(),i||(n=m.getTranslate(e.wrapper[0],f?"x":"y")*g,e.wrapper.transition(0),r&&e.onSlideChangeEnd(),b.autoplay&&u&&(e.params.autoplayDisableOnInteraction?e.stopAutoplay():t&&clearTimeout(t))),i=!0;var c=f?(q.x-p.x)*g:q.y-p.y;c>0&&0===e.activeSlideIndex?c=Math.pow(c,.85):0>c&&e.activeSlideIndex===e.slides.length-e.params.slidesPerView&&(c=-Math.pow(-c,.85));var d=f?(c+n)*g:0,j=f?0:c+n;e.wrapper.transform("translate3d("+d+"px, "+j+"px,0)")}},e.onTouchEnd=function(a){e.params.onTouchEnd&&e.params.onTouchEnd(e,a);var b=Date.now(),c=b-j;if(e.allowClick&&(300>c&&b-s>300&&(o&&clearTimeout(o),o=setTimeout(function(){e&&(e.params.paginationHide&&e.paginationContainer&&e.paginationContainer.toggleClass("slider-pagination-hidden"),e.params.onClick&&e.params.onClick(e,a))},300)),300>c&&300>b-s&&(o&&clearTimeout(o),e.params.onDoubleTap&&e.params.onDoubleTap(e,a)),e.params.onTap&&e.params.onTap(e,a)),s=Date.now(),!h||!i)return void(h=i=!1);h=i=!1;var d=f?(q.x-p.x)*g:q.y-p.y;Math.abs(d)<5&&300>c&&e.allowClick===!1&&(e.allowClick=!0),setTimeout(function(){e&&(e.allowClick=!0)},100);var k=e.params.autoplay&&u&&!e.params.autoplayDisableOnInteraction;if(0===d)return void(k&&e.startAutoplay());var l=1,m=e.size/e.params.slidesPerView;e.params.slidesPerView>1&&(l=Math.abs((Math.abs(d)+m/2)/m)),k&&e.wrapper.transitionEnd(function(){e.startAutoplay()}),c>300?-m/2>=d?e.slideTo(e.activeSlideIndex+Math.floor(l)):d>m/2?e.slideTo(e.activeSlideIndex-Math.floor(l)):e.slideReset():Math.abs(d)<10?e.slideReset():e.slideTo(0>d?e.activeSlideIndex+Math.round(l):e.activeSlideIndex-Math.round(l))},e.slideTo=function(a,b,c){"undefined"==typeof a&&(a=0),0>a&&(a=0),a>e.slides.length-e.params.slidesPerView&&(a=e.slides.length-e.params.slidesPerView);var d=-(e.size+e.params.spaceBetween)*a/e.params.slidesPerView;"undefined"==typeof b&&(b=e.params.speed),e.previousSlideIndex=e.activeSlideIndex,e.activeSlideIndex=Math.round(a),e.isFirst=0===e.activeSlideIndex,e.isLast=e.activeSlideIndex===e.slides.length-e.params.slidesPerView,e.onSlideChangeStart();var h=f?d*g:0,i=f?0:d;0===b?(e.wrapper.transition(0).transform("translate3d("+h+"px,"+i+"px,0)"),c!==!1&&e.onSlideChangeEnd()):(r=!0,e.wrapper.transition(b).transform("translate3d("+h+"px,"+i+"px,0)").transitionEnd(function(){c!==!1&&e.onSlideChangeEnd()}))},e.updateClasses=function(){e.slides.removeClass(e.params.slideActiveClass+" "+e.params.slideNextClass+" "+e.params.slidePrevClass);var a=e.slides.eq(e.activeSlideIndex);a.addClass(e.params.slideActiveClass),a.next().addClass(e.params.slideNextClass),a.prev().addClass(e.params.slidePrevClass),e.bullets&&e.bullets.length>0&&(e.bullets.removeClass(e.params.bulletActiveClass),e.bullets.eq(e.activeSlideIndex).addClass(e.params.bulletActiveClass))},e.onSlideChangeStart=function(){e.updateClasses(),e.params.onSlideChangeStart&&e.params.onSlideChangeStart(e)},e.onSlideChangeEnd=function(){r=!1,e.wrapper.transition(0),e.params.onSlideChangeEnd&&e.params.onSlideChangeEnd(e)},e.slideNext=function(){e.slideTo(e.activeSlideIndex+1)},e.slidePrev=function(){e.slideTo(e.activeSlideIndex-1)},e.slideReset=function(){e.slideTo(e.activeSlideIndex)},e.onClickNext=function(a){a.preventDefault(),e.slideNext()},e.onClickPrev=function(a){a.preventDefault(),e.slidePrev()},e.onClickIndex=function(a){a.preventDefault(),e.slideTo(m(this).index())};var t,u;return e.startAutoplay=function(){e.params.autoplay&&(u=!0,t&&clearTimeout(t),t=setTimeout(function(){e.wrapper.transitionEnd(function(){e.startAutoplay()});var a=e.activeSlideIndex+1;a>e.slides.length-e.params.slidesPerView&&(a=0),e.slideTo(a)},e.params.autoplay))},e.stopAutoplay=function(){u=!1,t&&clearTimeout(t)},e.resetAutoplay=function(){e.stopAutoplay(),e.startAutoplay()},e.init=function(){e.updateSlides(),e.updatePagination(),e.updateSize(),e.slideTo(e.params.initialSlide,0),e.attachEvents(),e.params.autoplay&&e.startAutoplay()},e.destroy=function(){e.detachEvents(),e.params.onDestroy&&e.params.onDestroy(),e=void 0},e.init(),e}};k.slider=function(a,b){return new r(a,b)},k.initSlider=function(a){function b(a){function b(){a.destroy(),c.off("pageBeforeRemove",b)}c.on("pageBeforeRemove",b)}var c=m(a),d=c.find(".slider-init");if(0!==d.length)for(var e=0;e<d.length;e++){var f,g=d.eq(e);f=g.data("slider")?JSON.parse(g.data("slider")):{initialSlide:parseInt(g.data("initialSlide"),10)||void 0,spaceBetween:parseInt(g.data("spaceBetween"),10)||void 0,speed:parseInt(g.data("speed"),10)||void 0,slidesPerView:g.data("slidesPerView"),direction:g.data("direction"),pagination:g.data("pagination"),paginationHide:g.data("paginationHide")&&("true"===g.data("paginationHide")?!0:!1),slideClass:g.data("slideClass"),slideActiveClass:g.data("slideActiveClass"),slideNextClass:g.data("slideNextClass"),slidePrevClass:g.data("slidePrevClass"),wrapperClass:g.data("wrapperClass"),bulletClass:g.data("bulletClass"),bulletActiveClass:g.data("bulletActiveClass"),nextButton:g.data("nextButton"),prevButton:g.data("prevButton"),indexButton:g.data("indexButton"),autoplay:g.data("autoplay")};var h=k.slider(g[0],f);b(h)}};var s=function(a){function b(){var a;for(c=0;c<k.views.length;c++)k.views[c].main&&(a=k.views[c]);return a}var c,d=this,e={photos:[],initialSlide:0,spaceBetween:20,speed:300,zoom:!0,maxZoom:3,minZoom:1,exposition:!0,expositionHideCaptions:!1,type:"standalone",navbar:!0,toolbar:!0,theme:"light",swipeToClose:!0,backLinkText:"Close",ofText:"of"};a=a||{};for(var f in e)"undefined"==typeof a[f]&&(a[f]=e[f]);d.params=a;var g="dark"===d.params.theme?"color-white":"",h=d.params.navbarTemplate||'<div class="navbar"><div class="navbar-inner"><div class="left sliding"><a href="#" class="link '+("page"===d.params.type&&"back")+' close-popup photo-browser-close-link" data-popup=".photo-browser-popup"><i class="icon icon-back '+g+'"></i><span>'+d.params.backLinkText+'</span></a></div><div class="center sliding"><span class="photo-browser-current"></span> <span class="photo-browser-of">'+d.params.ofText+'</span> <span class="photo-browser-total"></span></div><div class="right"></div></div></div>',i=k.rtl?"next":"prev",j=k.rtl?"prev":"next",l=d.params.toolbarTemplate||'<div class="toolbar tabbar"><div class="toolbar-inner"><a href="#" class="link photo-browser-prev"><i class="icon icon-'+i+" "+g+'"></i></a><a href="#" class="link photo-browser-next"><i class="icon icon-'+j+" "+g+'"></i></a></div></div>',n=d.params.template||'<div class="photo-browser photo-browser-'+d.params.theme+'"><div class="view navbar-fixed toolbar-fixed">{{navbar}}<div data-page="photo-browser-slides" class="page no-toolbar {{noNavbar}} toolbar-fixed navbar-fixed">{{toolbar}}{{captions}}<div class="photo-browser-slider-container slider-container"><div class="photo-browser-slider-wrapper slider-wrapper">{{photos}}</div></div></div></div></div>',o=d.params.photoTemplate||'<div class="photo-browser-slide slider-slide"><span class="photo-browser-zoom-container"><img src="{{url}}"></span></div>',p=d.params.captionsTheme||d.params.theme,q=d.params.captionsTemplate||'<div class="photo-browser-captions photo-browser-captions-'+p+'">{{captions}}</div>',r=d.params.captionTemplate||'<div class="photo-browser-caption" data-caption-index="{{captionIndex}}">{{caption}}</div>',s=d.params.objectTemplate||'<div class="photo-browser-slide photo-browser-object-slide slider-slide">{{html}}</div>',t="",u="";for(c=0;c<d.params.photos.length;c++){var v=d.params.photos[c],w="";"string"==typeof v||v instanceof String?w=v.indexOf("<")>=0||v.indexOf(">")>=0?s.replace(/{{html}}/g,v):o.replace(/{{url}}/g,v):"object"==typeof v&&(v.hasOwnProperty("html")&&v.html.length>0?w=s.replace(/{{html}}/g,v.html):v.hasOwnProperty("url")&&v.url.length>0&&(w=o.replace(/{{url}}/g,v.url)),v.hasOwnProperty("caption")&&v.caption.length>0?u+=r.replace(/{{caption}}/g,v.caption).replace(/{{captionIndex}}/g,c):w=w.replace(/{{caption}}/g,"")),t+=w}var x=n.replace("{{navbar}}",d.params.navbar?h:"").replace("{{noNavbar}}",d.params.navbar?"":"no-navbar").replace("{{photos}}",t).replace("{{captions}}",q.replace(/{{captions}}/g,u)).replace("{{toolbar}}",d.params.toolbar?l:"");d.activeSlideIndex=d.params.initialSlide,d.openIndex=d.activeSlideIndex,d.opened=!1,d.open=function(a){return"undefined"==typeof a&&(a=d.activeSlideIndex),a=parseInt(a,10),d.opened&&d.slider?void d.slider.slideTo(a):(d.opened=!0,d.openIndex=a,"standalone"===d.params.type&&m("body").append(x),"popup"===d.params.type&&(d.popup=k.popup('<div class="popup photo-browser-popup">'+x+"</div>"),m(d.popup).on("closed",d.onPopupClose)),"page"===d.params.type?(m(document).on("pageBeforeInit",d.onPageBeforeInit),m(document).on("pageBeforeRemove",d.onPageBeforeRemove),d.params.view||(d.params.view=b()),void d.params.view.loadContent(x)):(d.layout(d.openIndex),void(d.params.onOpen&&d.params.onOpen(d))))},d.close=function(){d.opened=!1,d.sliderContainer&&0!==d.sliderContainer.length&&(d.params.onClose&&d.params.onClose(d),d.attachEvents(!0),"standalone"===d.params.type&&d.container.removeClass("photo-browser-in").addClass("photo-browser-out").animationEnd(function(){d.container.remove()}),d.slider.destroy(),d.slider=d.sliderContainer=d.sliderWrapper=d.slides=y=z=A=void 0)},d.onPopupClose=function(){d.close(),m(d.popup).off("pageBeforeInit",d.onPopupClose)},d.onPageBeforeInit=function(a){"photo-browser-slides"===a.detail.page.name&&d.layout(d.openIndex),m(document).off("pageBeforeInit",d.onPageBeforeInit)},d.onPageBeforeRemove=function(a){"photo-browser-slides"===a.detail.page.name&&d.close(),m(document).off("pageBeforeRemove",d.onPageBeforeRemove)},d.layout=function(a){d.container="page"===d.params.type?m(".photo-browser-slider-container").parents(".view"):m(".photo-browser"),"standalone"===d.params.type&&(d.container.addClass("photo-browser-in"),k.sizeNavbars(d.container)),d.sliderContainer=d.container.find(".photo-browser-slider-container"),d.sliderWrapper=d.container.find(".photo-browser-slider-wrapper"),d.slides=d.container.find(".photo-browser-slide"),d.captionsContainer=d.container.find(".photo-browser-captions"),d.captions=d.container.find(".photo-browser-caption");var b={nextButton:d.params.nextButton||".photo-browser-next",prevButton:d.params.prevButton||".photo-browser-prev",indexButton:d.params.indexButton,initialSlide:a,spaceBetween:d.params.spaceBetween,speed:d.params.speed,onTap:function(a,b){d.params.onTap&&d.params.onTap(a,b)},onClick:function(a,b){d.params.exposition&&d.toggleExposition(),d.params.onClick&&d.params.onClick(a,b)},onDoubleTap:function(a,b){d.toggleZoom(m(b.target).parents(".photo-browser-slide")),d.params.onDoubleTap&&d.params.onDoubleTap(a,b)},onSlideChangeStart:function(a){d.activeSlideIndex=a.activeSlideIndex,d.container.find(".photo-browser-current").text(a.activeSlideIndex+1),d.container.find(".photo-browser-total").text(a.slides.length),m(".photo-browser-prev, .photo-browser-next").removeClass("photo-browser-link-inactive"),a.isFirst&&m(".photo-browser-prev").addClass("photo-browser-link-inactive"),a.isLast&&m(".photo-browser-next").addClass("photo-browser-link-inactive"),d.captions.length>0&&(d.captionsContainer.find(".photo-browser-caption-active").removeClass("photo-browser-caption-active"),d.captionsContainer.find('[data-caption-index="'+d.activeSlideIndex+'"]').addClass("photo-browser-caption-active"));var b=a.slides.eq(a.previousSlideIndex).find("video");b.length>0&&"pause"in b[0]&&b[0].pause(),d.params.onSlideChangeStart&&d.params.onSlideChangeStart(a)},onSlideChangeEnd:function(a){d.params.zoom&&y&&a.previousSlideIndex!==a.activeSlideIndex&&(z.transform("translate3d(0,0,0) scale(1)"),A.transform("translate3d(0,0,0)"),y=z=A=void 0,B=C=1),d.params.onSlideChangeEnd&&d.params.onSlideChangeEnd(a)}};d.params.swipeToClose&&"page"!==d.params.type&&(b.onTouchStart=d.swipeCloseTouchStart,b.onOppositeTouchMove=d.swipeCloseTouchMove,b.onTouchEnd=d.swipeCloseTouchEnd),d.slider=k.slider(d.sliderContainer,b),d.attachEvents()},d.attachEvents=function(a){var b=a?"off":"on";d.params.zoom&&(d.slides[b]("gesturestart",d.onSlideGestureStart),d.slides[b]("gesturechange",d.onSlideGestureChange),d.slides[b]("gestureend",d.onSlideGestureEnd),d.slides[b](k.touchEvents.start,d.onSlideTouchStart),d.slides[b](k.touchEvents.move,d.onSlideTouchMove),d.slides[b](k.touchEvents.end,d.onSlideTouchEnd)),d.container.find(".photo-browser-close-link")[b]("click",d.close)};d.exposed=!1,d.toggleExposition=function(){d.container&&d.container.toggleClass("photo-browser-exposed"),d.params.expositionHideCaptions&&d.captionsContainer.toggleClass("photo-browser-captions-exposed"),d.exposed=!d.exposed},d.expositionOn=function(){d.container&&d.container.addClass("photo-browser-exposed"),d.params.expositionHideCaptions&&d.captionsContainer.addClass("photo-browser-captions-exposed"),d.exposed=!0},d.expositionOff=function(){d.container&&d.container.removeClass("photo-browser-exposed"),d.params.expositionHideCaptions&&d.captionsContainer.removeClass("photo-browser-captions-exposed"),d.exposed=!1};var y,z,A,B=1,C=1,D=!1;d.onSlideGestureStart=function(){y||(y=m(this),z=y.find("img"),A=z.parent()),z.transition(0),D=!0},d.onSlideGestureChange=function(a){B=a.scale*C,B>d.params.maxZoom&&(B=d.params.maxZoom-1+Math.pow(B-d.params.maxZoom+1,.5)),B<d.params.minZoom&&(B=d.params.minZoom+1-Math.pow(d.params.minZoom-B+1,.5)),z.transform("translate3d(0,0,0) scale("+B+")")},d.onSlideGestureEnd=function(){B=Math.max(Math.min(B,d.params.maxZoom),d.params.minZoom),z.transition(d.params.speed).transform("translate3d(0,0,0) scale("+B+")"),C=B,D=!1,1===B&&(y=void 0)},d.toggleZoom=function(){y||(y=d.slides.eq(d.slider.activeSlideIndex),z=y.find("img"),A=z.parent()),A.transition(300).transform("translate3d(0,0,0)"),B&&1!==B?(B=C=1,z.transition(300).transform("translate3d(0,0,0) scale(1)"),y=void 0):(B=C=d.params.maxZoom,z.transition(300).transform("translate3d(0,0,0) scale("+B+")"))};var E,F,G,H,I,J,K,L,M,N,O,P,Q,R,S,T,U,V={},W={};d.onSlideTouchStart=function(a){E||("android"===k.device.os&&a.preventDefault(),E=!0,V.x="touchstart"===a.type?a.targetTouches[0].pageX:a.pageX,V.y="touchstart"===a.type?a.targetTouches[0].pageY:a.pageY)},d.onSlideTouchMove=function(a){if(d.slider.allowClick=!1,E&&y){F||(M=z[0].offsetWidth,N=z[0].offsetHeight,O=m.getTranslate(A[0],"x")||0,P=m.getTranslate(A[0],"y")||0,A.transition(0));var b=M*B,c=N*B;if(!(b<d.slider.width&&c<d.slider.height)){if(I=Math.min(d.slider.width/2-b/2,0),K=-I,J=Math.min(d.slider.height/2-c/2,0),L=-J,W.x="touchmove"===a.type?a.targetTouches[0].pageX:a.pageX,W.y="touchmove"===a.type?a.targetTouches[0].pageY:a.pageY,!F&&!D&&(Math.floor(I)===Math.floor(O)&&W.x<V.x||Math.floor(K)===Math.floor(O)&&W.x>V.x))return void(E=!1);a.stopPropagation(),F=!0,G=W.x-V.x+O,H=W.y-V.y+P,I>G&&(G=I+1-Math.pow(I-G+1,.8)),G>K&&(G=K-1+Math.pow(G-K+1,.8)),J>H&&(H=J+1-Math.pow(J-H+1,.8)),H>L&&(H=L-1+Math.pow(H-L+1,.8)),Q||(Q=W.x),T||(T=W.y),R||(R=Date.now()),S=(W.x-Q)/(Date.now()-R)/2,U=(W.y-T)/(Date.now()-R)/2,Math.abs(W.x-Q)<2&&(S=0),Math.abs(W.y-T)<2&&(U=0),Q=W.x,T=W.y,R=Date.now(),A.transform("translate3d("+G+"px, "+H+"px,0)")}}},d.onSlideTouchEnd=function(){if(!E||!F)return E=!1,void(F=!1);E=!1,F=!1;var a=300,b=300,c=S*a,e=G+c,f=U*b,g=H+f;0!==S&&(a=Math.abs((e-G)/S)),0!==U&&(b=Math.abs((g-H)/U));var h=Math.max(a,b);G=e,H=g;var i=M*B,j=N*B;I=Math.min(d.slider.width/2-i/2,0),K=-I,J=Math.min(d.slider.height/2-j/2,0),L=-J,G=Math.max(Math.min(G,K),I),H=Math.max(Math.min(H,L),J),A.transition(h).transform("translate3d("+G+"px, "+H+"px,0)")};var X,Y,Z,$,_,ab=!1,bb=!0,cb=!1;return d.swipeCloseTouchStart=function(){bb&&(ab=!0)},d.swipeCloseTouchMove=function(a,b){if(ab){cb||(cb=!0,Y="touchmove"===b.type?b.targetTouches[0].pageY:b.pageY,$=d.slider.slides.eq(d.slider.activeSlideIndex),_=(new Date).getTime()),b.preventDefault(),Z="touchmove"===b.type?b.targetTouches[0].pageY:b.pageY,X=Y-Z;var c=1-Math.abs(X)/300;$.transform("translate3d(0,"+-X+"px,0)"),d.slider.container.css("opacity",c).transition(0)}},d.swipeCloseTouchEnd=function(){if(ab=!1,!cb)return void(cb=!1);cb=!1,bb=!1;var a=Math.abs(X),b=(new Date).getTime()-_;return 300>b&&a>20||b>=300&&a>100?void setTimeout(function(){"standalone"===d.params.type&&d.close(),"popup"===d.params.type&&k.closeModal(d.popup),d.params.onSwipeToClose&&d.params.onSwipeToClose(d),bb=!0},0):(0!==a?$.addClass("transitioning").transitionEnd(function(){bb=!0,$.removeClass("transitioning")}):bb=!0,d.slider.container.css("opacity","").transition(""),void $.transform(""))},d};k.photoBrowser=function(a){return new s(a)};var t;k.addNotification=function(a){if(a){"undefined"==typeof a.media&&(a.media=k.params.notificationMedia),"undefined"==typeof a.title&&(a.title=k.params.notificationTitle),"undefined"==typeof a.subtitle&&(a.subtitle=k.params.notificationSubtitle),"undefined"==typeof a.closeIcon&&(a.closeIcon=k.params.notificationCloseIcon),"undefined"==typeof a.hold&&(a.hold=k.params.notificationHold),"undefined"==typeof a.closeOnClick&&(a.closeOnClick=k.params.notificationCloseOnClick),t||(t=document.createElement("div"));var b=m(".notifications");0===b.length&&(m("body").append('<div class="notifications list-block media-list"><ul></ul></div>'),b=m(".notifications"));var c,d=b.children("ul");c=a.custom?"<li>"+a.custom+"</li>":'<li class="notification-item notification-hidden"><div class="item-content">'+(a.media?'<div class="item-media">'+a.media+"</div>":"")+'<div class="item-inner"><div class="item-title-row">'+(a.title?'<div class="item-title">'+a.title+"</div>":"")+(a.closeIcon?'<div class="item-after"><a href="#" class="close-notification"><span></span></a></div>':"")+"</div>"+(a.subtitle?'<div class="item-subtitle">'+a.subtitle+"</div>":"")+(a.message?'<div class="item-text">'+a.message+"</div>":"")+"</div></div></li>",t.innerHTML=c;var e=m(t).children();e.on("click",function(b){a.onClick&&a.onClick(b,e[0]),a.closeOnClick?k.closeNotification(e[0]):(m(b.target).is(".close-notification")||m(b.target).parents(".close-notification").length>0)&&k.closeNotification(e[0])}),a.onClose&&e.data("f7NotificationOnClose",function(){a.onClose(e[0])}),a.additionalClass&&e.addClass(a.additionalClass),a.hold&&setTimeout(function(){e.length>0&&k.closeNotification(e[0])},a.hold),d.prepend(e[0]),b.show();var f=e.height();e.css("marginTop",-f+"px"),e.transition(0);{e[0].clientLeft}return e.transition(""),e.css("marginTop","0px"),b.transform("translate3d(0, 0,0)"),e.removeClass("notification-hidden"),e[0]}},k.closeNotification=function(a){if(a=m(a),0!==a.length&&!a.hasClass("notification-item-removing")){var b=m(".notifications"),c=a.height();a.css("height",c+"px").transition(0);{a[0].clientLeft}a.css("height","0px").transition("").addClass("notification-item-removing"),a.data("f7NotificationOnClose")&&a.data("f7NotificationOnClose")(),0===b.find(".notification-item:not(.notification-item-removing)").length&&b.transform(""),a.addClass("notification-hidden").transitionEnd(function(){a.remove(),0===b.find(".notification-item").length&&b.hide()})}};var u=[];return k.initPlugins=function(){for(var a in k.plugins){var b=k.plugins[a](k,k.params[a]);b&&u.push(b)}},k.pluginHook=function(a){for(var b=0;b<u.length;b++)u[b].hooks&&a in u[b].hooks&&u[b].hooks[a](arguments[1],arguments[2],arguments[3],arguments[4],arguments[5])},k.pluginPrevent=function(a){for(var b=!1,c=0;c<u.length;c++)u[c].prevents&&a in u[c].prevents&&u[c].prevents[a](arguments[1],arguments[2],arguments[3],arguments[4],arguments[5])&&(b=!0);return b},k.pluginProcess=function(a,b){for(var c=b,d=0;d<u.length;d++)u[d].preprocess&&process in u[d].preprocess&&(c=u[d].preprocess[process](b,arguments[2],arguments[3],arguments[4],arguments[5],arguments[6]));return c},k.init=function(){k.initPlugins&&k.initPlugins(),k.getDeviceInfo&&k.getDeviceInfo(),k.initFastClicks&&k.params.fastClicks&&k.initFastClicks(),k.initClickEvents&&k.initClickEvents(),m(".page").each(function(){var a=m(this),b=a.parents("."+k.params.viewClass);if(0!==b.length){var c=b[0].f7View||!1,d=c&&c.url?c.url:!1;b&&b.attr("data-page",a.attr("data-page")||void 0),k.pageInitCallback(c,this,d,"center")}}),k.initResize&&k.initResize(),k.initPushState&&k.params.pushState&&k.initPushState(),k.initSwipeout&&k.params.swipeout&&k.initSwipeout(),k.initSortable&&k.params.sortable&&k.initSortable(),k.initSwipePanels&&k.params.swipePanel&&k.initSwipePanels(),k.params.onAppInit&&k.params.onAppInit(),k.pluginHook("appInit")},k.params.init&&k.init(),k};var a=function(){var a=function(a){var b=this,c=0;for(c=0;c<a.length;c++)b[c]=a[c];return b.length=a.length,this},b=function(b,c){var d=[],e=0;if(b&&!c&&b instanceof a)return b;if(b)if("string"==typeof b){var f=(c||document).querySelectorAll(b);for(e=0;e<f.length;e++)d.push(f[e])}else if(b.nodeType||b===window||b===document)d.push(b);else if(b.length>0&&b[0].nodeType)for(e=0;e<b.length;e++)d.push(b[e]);return new a(d)};a.prototype={addClass:function(a){if("undefined"==typeof a)return this;for(var b=a.split(" "),c=0;c<b.length;c++)for(var d=0;d<this.length;d++)this[d].classList.add(b[c]);return this},removeClass:function(a){if("undefined"==typeof a)return this.removeAttr("class");for(var b=a.split(" "),c=0;c<b.length;c++)for(var d=0;d<this.length;d++)this[d].classList.remove(b[c]);return this},hasClass:function(a){return this[0]?this[0].classList.contains(a):!1},toggleClass:function(a){for(var b=a.split(" "),c=0;c<b.length;c++)for(var d=0;d<this.length;d++)this[d].classList.toggle(b[c]);return this},attr:function(a,b){if("undefined"==typeof b)return this[0]?this[0].getAttribute(a):void 0;for(var c=0;c<this.length;c++)this[c].setAttribute(a,b);return this},removeAttr:function(a){for(var b=0;b<this.length;b++)this[b].removeAttribute(a)},prop:function(a,b){if("undefined"==typeof b)return this[0]?this[0][a]:void 0;for(var c=0;c<this.length;c++)this[c][a]=b;return this},data:function(a,b){if("undefined"==typeof b){if(this[0]){var c=this[0].getAttribute("data-"+a);return c?c:this[0].dom7ElementDataStorage&&a in this[0].dom7ElementDataStorage?this[0].dom7ElementDataStorage[a]:void 0}return void 0}for(var d=0;d<this.length;d++){var e=this[d];e.dom7ElementDataStorage||(e.dom7ElementDataStorage={}),e.dom7ElementDataStorage[a]=b}return this},val:function(a){if("undefined"==typeof a)return this[0]?this[0].value:null;for(var b=0;b<this.length;b++)this[b].value=a;return this},transform:function(a){for(var b=0;b<this.length;b++){var c=this[b].style;c.webkitTransform=c.MsTransform=c.msTransform=c.MozTransform=c.OTransform=c.transform=a}return this},transition:function(a){"string"!=typeof a&&(a+="ms");for(var b=0;b<this.length;b++){var c=this[b].style;c.webkitTransitionDuration=c.MsTransitionDuration=c.msTransitionDuration=c.MozTransitionDuration=c.OTransitionDuration=c.transitionDuration=a}return this},on:function(a,c,d){function e(a){var e=a.target;if(b(e).is(c))d.call(e,a);else for(var f=b(e).parents(),g=0;g<f.length;g++)b(f[g]).is(c)&&d.call(f[g],a)}var f,g,h=a.split(" ");for(f=0;f<this.length;f++)if(2===arguments.length||c===!1)for(2===arguments.length&&(d=arguments[1]),g=0;g<h.length;g++)this[f].addEventListener(h[g],d,!1);else for(g=0;g<h.length;g++)this[f].dom7LiveListeners||(this[f].dom7LiveListeners=[]),this[f].dom7LiveListeners.push({listener:d,liveListener:e}),this[f].addEventListener(h[g],e,!1);return this},off:function(a,b){for(var c=a.split(" "),d=0;d<c.length;d++)for(var e=0;e<this.length;e++)if(3===arguments.length){var f=(arguments[1],arguments[2]);if(this[e].dom7LiveListeners)for(var g=0;g<this[e].dom7LiveListeners.length;g++)this[e].dom7LiveListeners[g].listener===f&&this[e].removeEventListener(c[d],this[e].dom7LiveListeners[g].liveListener,!1)}else this[e].removeEventListener(c[d],b,!1);return this},trigger:function(a,b){for(var c=0;c<this.length;c++){var d;try{d=new CustomEvent(a,{detail:b,bubbles:!0,cancelable:!0})}catch(e){d=document.createEvent("Event"),d.initEvent(a,!0,!0),d.detail=b}this[c].dispatchEvent(d)}return this},transitionEnd:function(a){function b(f){for(a.call(this,f),c=0;c<d.length;c++)e.off(d[c],b)}var c,d=["webkitTransitionEnd","transitionend","oTransitionEnd","MSTransitionEnd","msTransitionEnd"],e=this;if(a)for(c=0;c<d.length;c++)e.on(d[c],b);return this},animationEnd:function(a){function b(f){for(a(f),c=0;c<d.length;c++)e.off(d[c],b)}var c,d=["webkitAnimationEnd","OAnimationEnd","MSAnimationEnd","animationend"],e=this;if(a)for(c=0;c<d.length;c++)e.on(d[c],b);return this},width:function(){return this[0]===window?window.innerWidth:this.length>0?parseFloat(this.css("width"))-parseFloat(this.css("padding-left"))-parseFloat(this.css("padding-right")):null},outerWidth:function(a){return this.length>0?a?this[0].offsetWidth+parseFloat(this.css("margin-right"))+parseFloat(this.css("margin-left")):this[0].offsetWidth:null},height:function(){return this[0]===window?window.innerHeight:this.length>0?this[0].offsetHeight-parseFloat(this.css("padding-top"))-parseFloat(this.css("padding-bottom")):null},outerHeight:function(a){return this.length>0?a?this[0].offsetHeight+parseFloat(this.css("margin-top"))+parseFloat(this.css("margin-bottom")):this[0].offsetHeight:null},offset:function(){if(this.length>0){var a=this[0],b=a.getBoundingClientRect(),c=document.body,d=a.clientTop||c.clientTop||0,e=a.clientLeft||c.clientLeft||0,f=window.pageYOffset||a.scrollTop,g=window.pageXOffset||a.scrollLeft;return{top:b.top+f-d,left:b.left+g-e}}return null},hide:function(){for(var a=0;a<this.length;a++)this[a].style.display="none";return this},show:function(){for(var a=0;a<this.length;a++)this[a].style.display="block";return this},css:function(a,b){var c;if(1===arguments.length){if("string"!=typeof a){for(c=0;c<this.length;c++)for(var d in a)this[c].style[d]=a[d];return this}if(this[0])return window.getComputedStyle(this[0],null).getPropertyValue(a)}if(2===arguments.length&&"string"==typeof a){for(c=0;c<this.length;c++)this[c].style[a]=b;return this}return this},each:function(a){for(var b=0;b<this.length;b++)a.call(this[b],b,this[b]);return this},html:function(a){if("undefined"==typeof a)return this[0]?this[0].innerHTML:void 0;for(var b=0;b<this.length;b++)this[b].innerHTML=a;return this},text:function(a){if("undefined"==typeof a)return this[0]?this[0].textContent.trim():null;for(var b=0;b<this.length;b++)this[0].textContent=a},is:function(c){if(!this[0])return!1;var d,e;if("string"==typeof c){var f=this[0];if(f===document)return c===document;
if(f===window)return c===window;if(f.matches)return f.matches(c);if(f.webkitMatchesSelector)return f.webkitMatchesSelector(c);if(f.mozMatchesSelector)return f.mozMatchesSelector(c);if(f.msMatchesSelector)return f.msMatchesSelector(c);for(d=b(c),e=0;e<d.length;e++)if(d[e]===this[0])return!0;return!1}if(c===document)return this[0]===document;if(c===window)return this[0]===window;if(c.nodeType||c instanceof a){for(d=c.nodeType?[c]:c,e=0;e<d.length;e++)if(d[e]===this[0])return!0;return!1}return!1},indexOf:function(a){for(var b=0;b<this.length;b++)if(this[b]===a)return b},index:function(){if(this[0]){for(var a=this[0],b=0;null!==(a=a.previousSibling);)1===a.nodeType&&b++;return b}return void 0},eq:function(b){if("undefined"==typeof b)return this;var c,d=this.length;return b>d-1?new a([]):0>b?(c=d+b,new a(0>c?[]:[this[c]])):new a([this[b]])},append:function(b){var c,d;for(c=0;c<this.length;c++)if("string"==typeof b){var e=document.createElement("div");for(e.innerHTML=b;e.firstChild;)this[c].appendChild(e.firstChild)}else if(b instanceof a)for(d=0;d<b.length;d++)this[c].appendChild(b[d]);else this[c].appendChild(b);return this},prepend:function(b){var c,d;for(c=0;c<this.length;c++)if("string"==typeof b){var e=document.createElement("div");for(e.innerHTML=b,d=e.childNodes.length-1;d>=0;d--)this[c].insertBefore(e.childNodes[d],this[c].childNodes[0])}else if(b instanceof a)for(d=0;d<b.length;d++)this[c].insertBefore(b[d],this[c].childNodes[0]);else this[c].insertBefore(b,this[c].childNodes[0]);return this},insertBefore:function(a){for(var c=b(a),d=0;d<this.length;d++)if(1===c.length)c[0].parentNode.insertBefore(this[d],c[0]);else if(c.length>1)for(var e=0;e<c.length;e++)c[e].parentNode.insertBefore(this[d].cloneNode(!0),c[e])},insertAfter:function(a){for(var c=b(a),d=0;d<this.length;d++)if(1===c.length)c[0].parentNode.insertBefore(this[d],c[0].nextSibling);else if(c.length>1)for(var e=0;e<c.length;e++)c[e].parentNode.insertBefore(this[d].cloneNode(!0),c[e].nextSibling)},next:function(c){return new a(this.length>0?c?this[0].nextElementSibling&&b(this[0].nextElementSibling).is(c)?[this[0].nextElementSibling]:[]:this[0].nextElementSibling?[this[0].nextElementSibling]:[]:[])},nextAll:function(c){var d=[],e=this[0];if(!e)return new a([]);for(;e.nextElementSibling;){var f=e.nextElementSibling;d.push(c&&b(f).is(c)?f:f),e=f}return new a(d)},prev:function(c){return new a(this.length>0?c?this[0].previousElementSibling&&b(this[0].previousElementSibling).is(c)?[this[0].previousElementSibling]:[]:this[0].previousElementSibling?[this[0].previousElementSibling]:[]:[])},prevAll:function(c){var d=[],e=this[0];if(!e)return new a([]);for(;e.previousElementSibling;){var f=e.previousElementSibling;d.push(c&&b(f).is(c)?f:f),e=f}return new a(d)},parent:function(a){for(var c=[],d=0;d<this.length;d++)a?b(this[d].parentNode).is(a)&&c.push(this[d].parentNode):c.push(this[d].parentNode);return b(b.unique(c))},parents:function(a){for(var c=[],d=0;d<this.length;d++)for(var e=this[d].parentNode;e;)a?b(e).is(a)&&c.push(e):c.push(e),e=e.parentNode;return b(b.unique(c))},find:function(b){for(var c=[],d=0;d<this.length;d++)for(var e=this[d].querySelectorAll(b),f=0;f<e.length;f++)c.push(e[f]);return new a(c)},children:function(c){for(var d=[],e=0;e<this.length;e++)for(var f=this[e].childNodes,g=0;g<f.length;g++)c?1===f[g].nodeType&&b(f[g]).is(c)&&d.push(f[g]):1===f[g].nodeType&&d.push(f[g]);return new a(b.unique(d))},remove:function(){for(var a=0;a<this.length;a++)this[a].parentNode&&this[a].parentNode.removeChild(this[a]);return this},detach:function(){return this.remove()}},function(){function b(b){a.prototype[b]=function(a){var c;if("undefined"==typeof a){for(c=0;c<this.length;c++)d.indexOf(b)<0&&this[c][b]();return this}return this.on(b,a)}}for(var c="click blur focus focusin focusout keyup keydown keypress submit change mousedown mousemove mouseup mouseenter mouseleave mouseout mouseover touchstart touchend touchmove resize scroll".split(" "),d="resize scroll".split(" "),e=0;e<c.length;e++)b(c[e])}();var c=0;return b.ajax=function(a){var d={method:"GET",data:!1,async:!0,cache:!0,user:"",password:"",headers:{},xhrFields:{},statusCode:{},processData:!0,dataType:"text",contentType:"application/x-www-form-urlencoded"};a.type&&(a.type=a.method);for(var e in d)e in a||(a[e]=d[e]);if(a.url||(a.url=window.location.toString()),("GET"===a.method||"HEAD"===a.method)&&a.data){var f;f="string"==typeof a.data?a.data.indexOf("?")>=0?a.data.split("?")[1]:a.data:b.serializeObject(a.data),a.url+=a.url.indexOf("?")>=0?"&"+f:"?"+f}if("json"===a.dataType&&a.url.indexOf("callback=")>=0){var g,h="f7jsonp_"+Date.now()+c++,i=a.url.split("callback=");if(i[1].indexOf("&")>=0){var j=i[1].split("&").filter(function(a){return a.indexOf("=")>0}).join("&");g=i[0]+"callback="+h+(j.length>0?"&"+j:"")}else g=i[0]+"callback="+h;var k=document.createElement("script");return k.type="text/javascript",k.src=g,window[h]=function(b){a.success&&a.success(b),k.parentNode.removeChild(k),k=null,delete window[h]},void document.querySelector("head").appendChild(k)}("GET"===a.method||"HEAD"===a.method)&&a.cache===!1&&(a.url+="_nocache="+Date.now());var l=new XMLHttpRequest;l.open(a.method,a.url,a.async,a.user,a.password);var m=null;if(("POST"===a.method||"PUT"===a.method)&&a.data)if(a.processData){var n=[ArrayBuffer,Blob,Document,FormData];if(n.indexOf(a.data.constructor)>=0)m=a.data;else{var o="---------------------------"+Date.now().toString(16);"multipart/form-data"===a.contentType?l.setRequestHeader("Content-Type","multipart/form-data; boundary="+o):l.setRequestHeader("Content-Type",a.contentType),m="";var p=b.serializeObject(a.data);if("multipart/form-data"===a.contentType){o="---------------------------"+Date.now().toString(16),p=p.split("&");for(var q=[],r=0;r<p.length;r++)q.push('Content-Disposition: form-data; name="'+p[r].split("=")[0]+'"\r\n\r\n'+p[r].split("=")[1]+"\r\n");m="--"+o+"\r\n"+q.join("--"+o+"\r\n")+"--"+o+"--\r\n"}else m="application/x-www-form-urlencoded"===a.contentType?p:p.replace(/&/g,"\r\n")}}else m=a.data;if(a.headers)for(var s in a.headers)l.setRequestHeader(s,a.headers[s]);if("undefined"==typeof a.crossDomain&&(a.crossDomain=/^([\w-]+:)?\/\/([^\/]+)/.test(a.url)&&RegExp.$2!==window.location.host),a.crossDomain||l.setRequestHeader("X-Requested-With","XMLHttpRequest"),a.xhrFields)for(var t in a.xhrFields)l[t]=a.xhrFields[t];return l.onload=function(){if((200===l.status||0===l.status)&&(b(document).trigger("ajaxSuccess",{xhr:l}),a.success)){var c=l.responseText;"json"===a.dataType&&(c=JSON.parse(c)),a.success(c,l.status,l)}a.statusCode&&a.statusCode[l.status]&&a.statusCode[l.status](l),a.complete&&a.complete(l),b(document).trigger("ajaxComplete",{xhr:l})},l.onerror=function(){b(document).trigger("ajaxError",{xhr:l}),a.error&&a.error(l)},a.start&&a.start(l),b(document).trigger("ajaxStart",{xhr:l}),l.send(m),l},function(){function a(a){b[a]=function(c,d,e){return b.ajax({url:c,method:"post"===a?"POST":"GET",data:"function"==typeof d?void 0:d,success:"function"==typeof d?d:e,dataType:"getJSON"===a?"json":void 0})}}for(var c="get post getJSON".split(" "),d=0;d<c.length;d++)a(c[d])}(),b.parseUrlQuery=function(a){var b,c,d,e={};if(!(a.indexOf("?")>=0))return e;for(a=a.split("?")[1],c=a.split("&"),b=0;b<c.length;b++)d=c[b].split("="),e[d[0]]=d[1];return e},b.isArray=function(a){return"[object Array]"===Object.prototype.toString.apply(a)?!0:!1},b.unique=function(a){for(var b=[],c=0;c<a.length;c++)-1===b.indexOf(a[c])&&b.push(a[c]);return b},b.trim=function(a){return a.trim()},b.serializeObject=function(a){if("string"==typeof a)return a;var c=[],d="&";for(var e in a)if(b.isArray(a[e])){for(var f=[],g=0;g<a[e].length;g++)f.push(e+"="+a[e][g]);c.push(f.join(d))}else c.push(e+"="+a[e]);return c.join(d)},b.getTranslate=function(a,b){var c,d,e,f;return"undefined"==typeof b&&(b="x"),e=window.getComputedStyle(a,null),window.WebKitCSSMatrix?f=new WebKitCSSMatrix("none"===e.webkitTransform?"":e.webkitTransform):(f=e.MozTransform||e.OTransform||e.MsTransform||e.msTransform||e.transform||e.getPropertyValue("transform").replace("translate(","matrix(1, 0, 0, 1,"),c=f.toString().split(",")),"x"===b&&(d=window.WebKitCSSMatrix?f.m41:parseFloat(16===c.length?c[12]:c[4])),"y"===b&&(d=window.WebKitCSSMatrix?f.m42:parseFloat(16===c.length?c[13]:c[5])),d||0},b.requestAnimationFrame=function(a){return window.requestAnimationFrame?window.requestAnimationFrame(a):window.webkitRequestAnimationFrame?window.webkitRequestAnimationFrame(a):window.mozRequestAnimationFrame?window.mozRequestAnimationFrame(a):window.setTimeout(a,1e3/60)},b.supportTouch=!!("ontouchstart"in window||window.DocumentTouch&&document instanceof DocumentTouch),b.fn=a.prototype,b.fn.scrollTo=function(a,c,d){return this.each(function(){function e(a){void 0===a&&(a=(new Date).getTime()),null===q&&(q=a);var c;o&&(l=f+(a-q)/d*(j-f)),p&&(m=g+(a-q)/d*(k-g)),o&&j>f&&l>=j&&(n.scrollTop=j,c=!0),o&&f>j&&j>=l&&(n.scrollTop=j,c=!0),p&&k>g&&m>=k&&(n.scrollLeft=k,c=!0),p&&g>k&&k>=m&&(n.scrollLeft=k,c=!0),c||(o&&(n.scrollTop=l),p&&(n.scrollLeft=m),b.requestAnimationFrame(e))}var f,g,h,i,j,k,l,m,n=this,o=c>0||0===c,p=a>0||0===a;if(o&&(f=n.scrollTop,d||(n.scrollTop=c)),p&&(g=n.scrollLeft,d||(n.scrollLeft=a)),d){o&&(h=n.scrollHeight-n.offsetHeight,j=Math.max(Math.min(c,h),0)),p&&(i=n.scrollWidth-n.offsetWidth,k=Math.max(Math.min(a,i),0));var q=null;o&&j===f&&(o=!1),p&&k===g&&(p=!1),b.requestAnimationFrame(e)}})},b.fn.scrollTop=function(a,b){var c=this;return"undefined"==typeof a?c.length>0?c[0].scrollTop:null:c.scrollTo(void 0,a,b)},b.fn.scrollLeft=function(a,b){var c=this;return"undefined"==typeof a?c.length>0?c[0].scrollLeft:null:c.scrollTo(a,void 0,b)},b}();Framework7.$=a;window.Dom7=a,Framework7.prototype.support=function(){var a={touch:!!("ontouchstart"in window||window.DocumentTouch&&document instanceof DocumentTouch)};return a}(),Framework7.prototype.device=function(){var b={},c=navigator.userAgent,d=a,e=c.match(/(Android);?[\s\/]+([\d.]+)?/),f=c.match(/(iPad).*OS\s([\d_]+)/),g=c.match(/(iPod)(.*OS\s([\d_]+))?/),h=!f&&c.match(/(iPhone\sOS)\s([\d_]+)/);if(b.ios=b.android=b.iphone=b.ipad=!1,e&&(b.os="android",b.osVersion=e[2],b.android=!0),(f||h||g)&&(b.os="ios",b.ios=!0),h&&!g&&(b.osVersion=h[2].replace(/_/g,"."),b.iphone=!0),f&&(b.osVersion=f[2].replace(/_/g,"."),b.ipad=!0),g&&(b.osVersion=g[3]?g[3].replace(/_/g,"."):null,b.iphone=!0),b.webView=(h||f||g)&&c.match(/.*AppleWebKit(?!.*Safari)/i),b.os&&"ios"===b.os){var i=b.osVersion.split(".");b.minimalUi=!b.webView&&(g||h)&&(1*i[0]===7?1*i[1]>=1:1*i[0]>7)&&d('meta[name="viewport"]').length>0&&d('meta[name="viewport"]').attr("content").indexOf("minimal-ui")>=0}var j=d(window).width(),k=d(window).height();b.statusBar=!1,b.statusBar=b.webView&&(320===j&&568===k||568===j&&320===k||320===j&&480===k||480===j&&320===k||768===j&&1024===k||1024===j&&768===k)?!0:!1;var l=[];if(b.pixelRatio=window.devicePixelRatio||1,b.pixelRatio>=2&&l.push("retina"),b.os&&(l.push(b.os,b.os+"-"+b.osVersion.split(".")[0],b.os+"-"+b.osVersion.replace(/\./g,"-")),"ios"===b.os))for(var m=parseInt(b.osVersion.split(".")[0],10),n=m-1;n>=6;n--)l.push("ios-gt-"+n);return b.statusBar?l.push("with-statusbar-overlay"):d("html").removeClass("with-statusbar-overlay"),l.length>0&&d("html").addClass(l.join(" ")),b}(),Framework7.prototype.plugins={}}();